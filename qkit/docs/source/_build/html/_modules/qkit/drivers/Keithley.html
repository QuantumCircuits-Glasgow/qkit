<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>qkit.drivers.Keithley &mdash; QKIT 0.3 alpha documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            QKIT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">qkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_notebooks/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Contributing.html">How to contribute</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">QKIT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">qkit.drivers.Keithley</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for qkit.drivers.Keithley</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># Keithley.py driver for Keithley 2636A multi channel source measure unit</span>
<span class="c1"># Hannes Rotzinger, hannes.rotzinger@kit.edu 2010</span>
<span class="c1"># Micha Wildermuth, micha.wildermuth@kit.edu 2017</span>
<span class="c1">#</span>
<span class="c1"># This program is free software; you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation; either version 2 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># This program is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with this program; if not, write to the Free Software</span>
<span class="c1"># Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span>

<span class="kn">from</span> <span class="nn">qkit.core.instrument_base</span> <span class="kn">import</span> <span class="n">Instrument</span>
<span class="kn">from</span> <span class="nn">qkit</span> <span class="kn">import</span> <span class="n">visa</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">distutils.version</span> <span class="kn">import</span> <span class="n">LooseVersion</span>


<div class="viewcode-block" id="Keithley"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley">[docs]</a><span class="k">class</span> <span class="nc">Keithley</span><span class="p">(</span><span class="n">Instrument</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the driver for the Keithley 2636A multi channel source measure unit.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes VISA communication with the instrument Keithley 2636A.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: string</span>
<span class="sd">            Name of the instrument (driver).</span>
<span class="sd">        address: string</span>
<span class="sd">            GPIB address for the communication with the instrument.</span>
<span class="sd">        reset: bool, optional</span>
<span class="sd">            Resets the instrument to default conditions. Default is False.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; import qkit</span>
<span class="sd">        QKIT configuration initialized -&gt; available as qkit.cfg[...]</span>
<span class="sd">        </span>
<span class="sd">        &gt;&gt;&gt; qkit.start()</span>
<span class="sd">        Starting QKIT framework ... -&gt; qkit.core.startup</span>
<span class="sd">        Loading module ... S10_logging.py</span>
<span class="sd">        Loading module ... S12_lockfile.py</span>
<span class="sd">        Loading module ... S14_setup_directories.py</span>
<span class="sd">        Loading module ... S20_check_for_updates.py</span>
<span class="sd">        Loading module ... S25_info_service.py</span>
<span class="sd">        Loading module ... S30_qkit_start.py</span>
<span class="sd">        Loading module ... S65_load_RI_service.py</span>
<span class="sd">        Loading module ... S70_load_visa.py</span>
<span class="sd">        Loading module ... S80_load_file_service.py</span>
<span class="sd">        Loading module ... S85_init_measurement.py</span>
<span class="sd">        Loading module ... S98_started.py</span>
<span class="sd">        Loading module ... S99_init_user.py</span>
<span class="sd">        </span>
<span class="sd">        &gt;&gt;&gt; IVD = qkit.instruments.create(&#39;IVD&#39;, &#39;Keithley&#39;, address=&#39;TCPIP0::00.00.000.00::INSTR&#39;, reset=True)</span>
<span class="sd">        Initialized the file info database (qkit.fid) in 0.000 seconds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="vm">__name__</span>
        <span class="c1"># Start VISA communication</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39;: Initializing instrument Keithley_2636A&#39;</span><span class="p">)</span>
        <span class="n">Instrument</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;physical&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_address</span> <span class="o">=</span> <span class="n">address</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span> <span class="o">=</span> <span class="n">visa</span><span class="o">.</span><span class="n">instrument</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_address</span><span class="p">)</span>
        <span class="c1"># distinguish high level commands to query status bit for different pyvisa versions</span>
        <span class="k">if</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="n">visa</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="s1">&#39;1.5.0&#39;</span><span class="p">):</span>  <span class="c1"># pyvisa 1.4</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_read_stb</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">visa</span><span class="o">.</span><span class="n">vpp43</span><span class="o">.</span><span class="n">read_stb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">vi</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># pyvisa 1.5</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_read_stb</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">visa</span><span class="o">.</span><span class="n">visalib</span><span class="o">.</span><span class="n">read_stb</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">session</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="c1"># internal variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># IV-mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer</span> <span class="o">=</span> <span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_measurement_modes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;2-wire&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;4-wire&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mode_types</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;curr&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;volt&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;res&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;pow&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;v&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;V&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_avg_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;moving average&#39;</span><span class="p">,</span> <span class="s1">&#39;repeat average&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">]</span>
        <span class="c1"># dict of defaults values: defaults[&lt;sweep_mode&gt;][&lt;channel&gt;][&lt;parameter&gt;][&lt;value&gt;]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># bias channel</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
                              <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># sense channel</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">}],</span>
                          <span class="mi">1</span><span class="p">:</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">}],</span>
                          <span class="mi">2</span><span class="p">:</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">}]}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_str</span> <span class="o">=</span> <span class="s1">&#39;default parameters&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__set_defaults_docstring</span><span class="p">()</span>
        <span class="c1"># error messages</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err_msg</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">430</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Query Deadlocked&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">420</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Query Unterminated&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">410</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Query Interrupted&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">363</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Input Buffer Over-run&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">350</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Queue Overflow&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">315</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Configuration Memory Lost&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">314</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Save/ Recall Memory Lost&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">292</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Referenced name does not exist&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">286</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSP Runtime error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">285</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Program Syntax&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">282</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Illegal program name&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">281</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot Create Program&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">225</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Out of Memory or TSP Memory allocation error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">224</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Illegal Parameter Value&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">223</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Too Much Data&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">222</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parameter Data Out of Range&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">221</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Settings Conflict&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">220</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parameter&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">203</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Command protected&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">154</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;String Too Long&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">151</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid String Data&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">144</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Character Data Too Long&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">141</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid Character Data&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">121</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid Character In Number&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">120</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Numeric Data&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">109</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Missing Parameter&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">108</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parameter Not Allowed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">105</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Trigger Not Allowed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">104</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Data Type&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">101</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid Character&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Queue Is Empty&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">603</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Power On State Lost&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">702</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Unresponsive digital FPGA&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">802</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Output Blocked By Interlock&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">820</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parsing Value&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">900</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Internal System&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1100</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Command Unavailable&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1101</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parameter Too Big&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1102</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parameter Too Small&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1103</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Max Greater Than Min&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1104</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Too many digits for param type&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1106</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Battery Not Present&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1107</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot modify factory menu&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1108</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Menu name does not exist&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1109</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Menu name already exists&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1110</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Catastrophic analog supply failure&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1200</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1201</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1202</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1203</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed (possible loop in node chain)&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1204</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1205</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed (no remote nodes found)&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1206</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1207</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1208</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1209</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1210</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPlink initialization failed (node ID conflict)&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1211</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Node </span><span class="si">%u</span><span class="s1"> is inaccessible&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1212</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid node ID&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1400</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Expected at least </span><span class="si">%d</span><span class="s1"> parameters&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1401</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parameter </span><span class="si">%d</span><span class="s1"> is invalid&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1402</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;User scripts lost&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1403</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Factory scripts lost&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1404</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid byte order&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1405</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid ASCII precision&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1406</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid data format&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1500</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid baud rate setting&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1501</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid parity setting&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1502</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid terminator setting&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1503</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid bits setting&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1504</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid flow control setting&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1600</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Maximum GPIB message length exceeded&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1700</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Display area boundary exceeded&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1800</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid Digital Trigger Mode&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">1801</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid digital I/O Line&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2000</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Flash download error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2001</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot flash with error in queue&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2100</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Could not open socket&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2101</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Could not close socket&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2102</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;LAN configuration already in progress&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2103</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;LAN disabled&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2104</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Socket error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2105</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Unreachable gateway&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2106</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Could not acquire ip address&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2107</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Duplicate IP address detected&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2108</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;DHCP lease lost&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2109</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;LAN cable disconnected&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2110</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Could not resolve hostname&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2111</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;DNS name (FQDN) too long&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2112</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Connection not established&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2200</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File write error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2201</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File read error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2202</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot close file&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2203</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot open file&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2204</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Directory not found&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2205</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File not found&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2206</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot read current working directory&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2207</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot change directory&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2208</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot create directory&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2209</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot remove directory&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2210</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File is not a valid script format&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2211</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File system error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2212</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File system command not supported&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2213</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Too many open files&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2214</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File access denied&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2215</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid file handle&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2216</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid drive&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2217</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File system busy&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2218</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Disk full&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2219</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File corrupt&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2220</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File already exists&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2221</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;File seek error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2222</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;End-of-file error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2223</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Directory not empty&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2401</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid specified connection&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2402</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet remote error: </span><span class="si">%s</span><span class="s1">, where </span><span class="si">%s</span><span class="s1"> explains the remote error&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2403</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet failure&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2404</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet read failure&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2405</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet read failure, aborted&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2406</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet read failure, timeout&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2407</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet write failure&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2408</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet write failure, aborted&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2409</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet write failure, timeout&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2410</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet max connections reached&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2411</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet connection failed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2412</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet invalid termination&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2413</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet invalid reading buffer table&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2414</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet invalid reading buffer index range&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2415</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet feature only supported on TSP connections&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2416</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet must specify both port and init&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">2417</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;TSPnet disconnected by other side&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">4900</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Reading buffer index </span><span class="si">%s</span><span class="s1"> is invalid&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">4901</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;The maximum index for this buffer is </span><span class="si">%d</span><span class="s1">&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">4903</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Reading buffer expired&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">4904</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;ICX parameter count mismatch, </span><span class="si">%s</span><span class="s1"> (Line #</span><span class="si">%d</span><span class="s1">)&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">4905</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;ICX parameter invalid value, </span><span class="si">%s</span><span class="s1"> (Line #</span><span class="si">%d</span><span class="s1">)&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">4906</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;ICX invalid function id, </span><span class="si">%s</span><span class="s1"> (Line #</span><span class="si">%d</span><span class="s1">)&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5001</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;SMU is unresponsive&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5003</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Saved calibration constants corrupted&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5004</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Operation conflicts with CALA sense mode&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5005</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Value too big for range&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5007</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Operation would exceed safe operating area of the instrument&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5008</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Operation not permitted while output is on&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5009</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Unknown sourcing function&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5010</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;No such SMU function&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5011</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Operation not permitted while cal is locked&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5012</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cal data not saved - save or restore before lock&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5013</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot save cal data - unlock before save&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5014</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot restore cal data - unlock before restore&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5015</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Save to cal set disallowed&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5016</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot change cal date - unlock before operation&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5017</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot change cal constants - unlock before operation&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5018</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cal version inconsistency&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5019</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot unlock - invalid password&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5021</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot restore default calset. Using previous calset&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5022</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot restore previous calset. Using factory calset&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5023</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot restore factory calset. Using nominal calset&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5024</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot restore nominal calset. Using firmware defaults&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5025</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot set filter.count &gt; 1 when measure.count &gt; 1&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5027</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Unlock cal data with factory password&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5028</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot perform requested operation while source autorange is enabled&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5029</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot save without changing cal date and cal due values&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5032</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot change this setting unless buffer is cleared&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5033</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Reading buffer not found within device&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5038</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Index exceeds maximum reading&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5040</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot use same reading buffer for multiple overlapped measurements&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5041</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Output Enable not asserted&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5042</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid while overlapped measure&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5043</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot perform requested operation while voltage measure autorange is enabled&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5044</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot perform requested operation while current measure autorange is enabled&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5045</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot perform requested operation while filter is enabled&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5046</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;SMU too hot&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5047</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Minimum timestamp resolution is 1s&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5048</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Contact check not valid with HIGH-Z output off&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5049</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Contact check not valid while an active current source&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5050</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;I limit too low for contact check&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5051</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Model number/SMU hardware mismatch. Disconnect DUT and cycle power&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5052</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Interlock engaged; system stabilizing&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5053</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Unstable output detected - Measurements may not be valid&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5054</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;High C voltage limit exceeded&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5055</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot change adjustment date - change cal constants before operation&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5059</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;trigger.source.action enabled without configuration&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5060</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;trigger.measure.action enabled without configuration&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5061</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Operation not permitted while OUTPUT is off&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5063</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot perform requested operation while measure autozero is on&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5064</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot use reading buffer that collects source values&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5065</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;I range too low for contact check&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5066</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;source.offlimiti too low for contact check&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="mi">5069</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Autorange locked for HighC mode&#39;&#39;&#39;</span><span class="p">}</span>
        <span class="c1"># reset</span>
        <span class="k">if</span> <span class="n">reset</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_all</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a visa command &lt;cmd&gt;, waits until &quot;operation complete&quot; and raises eventual errors of the Device.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cmd: str</span>
<span class="sd">            Command that is send to the instrument via pyvisa and NI-VISA backend.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;*OPC?&#39;</span><span class="p">))):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1e-6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error</span><span class="p">()</span>
        <span class="k">return</span>
    
    <span class="k">def</span> <span class="nf">_ask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a visa command &lt;cmd&gt;, waits until &quot;operation complete&quot;, raises eventual errors of the Device and returns the read answer &lt;ans&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cmd: str</span>
<span class="sd">            Command that is send to the instrument via pyvisa and NI-VISA backend.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        answer: str</span>
<span class="sd">            Answer that is returned at query after the sent &lt;cmd&gt;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;print(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;*OPC?&#39;</span><span class="p">))):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1e-6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">ans</span>
    
<div class="viewcode-block" id="Keithley.set_digio"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_digio">[docs]</a>    <span class="k">def</span> <span class="nf">set_digio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">status</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets digital Input/Output line &lt;line&gt; to status &lt;status&gt;. 0 (Off) is 0V and 1 (On) is 5V.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        line: int</span>
<span class="sd">            Number of digital I/O line of interest. Must be in [1,14]</span>
<span class="sd">        status: bool</span>
<span class="sd">            Output status of selected digital I/O line.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: digio.writebit(N, data)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set digital I/O of line </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;digio.writebit(</span><span class="si">{:d}</span><span class="s1">, </span><span class="si">{:d}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set digital I/O of line </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set digital I/O of line </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_digio"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_digio">[docs]</a>    <span class="k">def</span> <span class="nf">get_digio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets digital Input/Output status of line &lt;line&gt;. 0 (Off) is 0V and 1 (On) is 5V.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        line: int</span>
<span class="sd">            Number of digital I/O line of interest. Must be in [1,14]</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status: bool</span>
<span class="sd">            Output status of selected digital I/O line.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: data = digio.readbit(N)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get digital I/O of line </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;digio.readbit(</span><span class="si">{:d}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">line</span><span class="p">)))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get digital I/O of line </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">line</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get digital I/O of line </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">line</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_measurement_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_measurement_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_measurement_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets measurement mode (wiring system) of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: int</span>
<span class="sd">            State of the measurement sense mode. Must be 0 (2-wire), 1 (4-wire) or 3 (calibration).</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.sense = senseMode</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set measurement mode of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.sense = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set measurement mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set measurement mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_measurement_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_measurement_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_measurement_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets measurement mode (wiring system) &lt;mode&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            State of the measurement sense mode. Meanings are 0 (2-wire), 1 (4-wire) and 3 (calibration).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: senseMode= smuX.sense</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get measurement mode of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.sense&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get measurement mode of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get measurement mode of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_bias_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_bias_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias mode of channel &lt;channel&gt; to mode &lt;mode&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        mode: int</span>
<span class="sd">            Bias mode. Must be 0 (current) or 1 (voltage).</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.func = 0|1|smuX.OUTPUT_DCAMPS|smuX.OUTPUT_DCVOLTS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set bias mode of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.func = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_bias_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_bias_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias mode &lt;mode&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Bias mode. Meanings are 0 (current) and 1 (voltage).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: 0|1|smuX.OUTPUT_DCAMPS|smuX.OUTPUT_DCVOLTS = smuX.source.func</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get bias mode of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.func&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias mode of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias mode of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_sense_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sense_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense mode of channel &lt;channel&gt; to mode &lt;mode&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sense mode. Must be 0 (current), 1 (voltage), 2 (resistance) or 3 (power).</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: display.smuX.measure.func = 0|1|2|3|display.MEASURE_DCAMPS|display.MEASURE_DCVOLTS|display.MEASURE_OHMS|display.MEASURE_WATTS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set sense mode of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;display.smu</span><span class="si">{:s}</span><span class="s1">.measure.func = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sense_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sense_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense mode &lt;mode&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sense mode. Meanings are 0 (current), 1 (voltage), 2 (resistance) and 3 (power).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: 0|1|2|3|display.MEASURE_DCAMPS|display.MEASURE_DCVOLTS|display.MEASURE_OHMS|display.MEASURE_WATTS = display.smuX.measure.func</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get sense mode of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;display.smu</span><span class="si">{:s}</span><span class="s1">.measure.func&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense mode of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense mode of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_bias_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_bias_range">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias range of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias range. Possible values are -1 (auto), for currents 100pA, 1nA, 10nA, 100nA, 1uA, 10uA, 100uA, 1mA, 10mA, 100mA, 1 A, 1.5A and for voltages 200mV, 2V, 20V, 200V.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.rangeY = rangeValue</span>
        <span class="c1"># Corresponding Command: smuX.source.autorangeY = 0|1|smuX.AUTORANGE_OFF|smuX.AUTORANGE_ON</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set bias range of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.autorange</span><span class="si">{:s}</span><span class="s1"> = 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.autorange</span><span class="si">{:s}</span><span class="s1"> = 0&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.range</span><span class="si">{:s}</span><span class="s1"> = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)],</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_bias_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_bias_range">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias mode &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: rangeValue = smuX.source.rangeY</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get bias range of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.range</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)])))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias range of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias range of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_bias_limit"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_bias_limit">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias limit of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        Note that the 200V range requires the interlock to be enabled: pull high pin 24 (e.g. by shorting with pin 23) of the digital I/O port.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Compliance limits. Possible values for currents are 0 &lt; &lt;val&gt; &lt; 1.5A and for voltages are 0 &lt; &lt;val&gt; &lt; 200V.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.limitY = limit</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set bias limit of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.limit</span><span class="si">{:s}</span><span class="s1"> = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)],</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias limit of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias limit of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_bias_limit"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_bias_limit">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_limit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias limit &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Compliance limits.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: limit = smuX.source.limitY</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get bias limit of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.limit</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)])))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias limit of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias limit of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_sense_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sense_range">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense range of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense range. Possible values are -1 (auto), for currents 100pA, 1nA, 10nA |100nA, 1uA, 10uA, 100uA, 1mA, 10mA, 100mA, 1 A, 1.5A and for voltages 200mV, 2V, 20V, 200V.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.measure.rangeY = rangeValue</span>
        <span class="c1"># Corresponding Command: smuX.measure.autorangeY = 0|1|2|smuX.AUTORANGE_OFF|smuX.AUTORANGE_ON|smuX.AUTORANGE_FOLLOW_LIMIT</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set sense range of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.autorange</span><span class="si">{:s}</span><span class="s1"> = 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.autorange</span><span class="si">{:s}</span><span class="s1"> = 0&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.range</span><span class="si">{:s}</span><span class="s1"> = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)],</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sense_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sense_range">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense mode &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: rangeValue = smuX.measure.rangeY</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get sense range of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.range</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)])))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense range of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense range of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_bias_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_bias_delay">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias delay of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias delay with respect to the bias trigger. Possible values are -1 (auto), 0 (off) or positive numbers.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.delay = 0|1|smuX.DELAY_OFF|muX.DELAY_AUTO|sDelay</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set bias delay of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.delay = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_bias_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_bias_delay">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias delay &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias delay with respect to the bias trigger.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: 0|1|smuX.DELAY_OFF|muX.DELAY_AUTO|sDelay = smuX.source.delay</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get bias delay of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.delay&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias delay of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias delay of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_sense_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sense_delay">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense delay of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense delay with respect to the sense trigger. Possible values are -1 (auto), 0 (off) or positive numbers.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        factor: float, optional</span>
<span class="sd">            Multiplier to the delays if auto delay is used. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.measure.delay = 0|1|smuX.DELAY_OFF|muX.DELAY_AUTO|mDelay</span>
        <span class="c1"># Corresponding Command: smuX.measure.delayfactor = delayFactor</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set sense delay of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.delay = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.delayfactor = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;factor&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sense_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sense_delay">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense delay &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense delay with respect to the sense trigger.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: 0|1|smuX.DELAY_OFF|muX.DELAY_AUTO|mDelay= smuX.measure.delay</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get sense delay of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.delay&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense delay of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense delay of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_sense_average"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sense_average">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense average of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: int</span>
<span class="sd">            Number of measured readings that are required to yield one filtered measurement. Must be in [1, 100].</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        mode: str</span>
<span class="sd">            Type of filter used for measurements when the measurement filter is enabled. Possible values are 0 (moving average) | 1 (repeat average) | 2 (median). Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.measure.filter.count = filterCount</span>
        <span class="c1"># Corresponding Command: smuX.measure.filter.enable = 0|1|smuX.FILTER_OFF|smuX.FILTER_ON</span>
        <span class="c1"># Corresponding Command: smuX.measure.filter.type = 0|1|2|smuX.FILTER_MOVING_AVG|smuX.FILTER_REPEAT_AVG|smuX.FILTER_MEDIAN</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set sense average of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1"> and mode </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_avg_types</span><span class="p">[</span><span class="n">mode</span><span class="p">]))</span>
            <span class="n">status</span> <span class="o">=</span> <span class="ow">not</span><span class="p">(</span><span class="mf">.5</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">val</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>  <span class="c1"># equals Heaviside(1-&lt;val&gt;) --&gt; turns on for &lt;val&gt; &gt;= 2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.filter.enable = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">status</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">status</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.filter.count = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.filter.type = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">mode</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense average of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense average of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sense_average"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sense_average">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense average status &lt;status&gt;, value &lt;val&gt; and mode &lt;mode&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status: bool</span>
<span class="sd">            Status if the measurement filter is enabled.</span>
<span class="sd">        val: int</span>
<span class="sd">            Number of measured readings that are required to yield one filtered measurement.</span>
<span class="sd">        mode: str</span>
<span class="sd">            Type of filter used for measurements when the measurement filter is enabled. Meanings are 0 (moving average) | 1 (repeat average) | 2 (median).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: filterCount = smuX.measure.filter.count</span>
        <span class="c1"># Corresponding Command: 0|1|smuX.FILTER_OFF|smuX.FILTER_ON = smuX.measure.filter.enable</span>
        <span class="c1"># Corresponding Command: 0|1|2|smuX.FILTER_MOVING_AVG|smuX.FILTER_REPEAT_AVG|smuX.FILTER_MEDIAN = smuX.measure.filter.type</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get sense average of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="n">status</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.filter.enable&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))))))</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.filter.count&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))))</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.filter.type&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))))</span>
            <span class="k">return</span> <span class="n">status</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">mode</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense average of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense average of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_plc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_plc">[docs]</a>    <span class="k">def</span> <span class="nf">set_plc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets power line cycle (PLC) to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        plc: int</span>
<span class="sd">            Power line frequency setting used for NPLC calculations. Possible values are -1 (auto) | 50 | 60.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: localnode.linefreq = frequency</span>
        <span class="c1"># Corresponding Command: localnode.autolinefreq = flag</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set PLC to </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">)))</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;autolinefreq = true&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">:</span> <span class="s1">&#39;linefreq = 50&#39;</span><span class="p">,</span> <span class="mi">60</span><span class="p">:</span> <span class="s1">&#39;linefreq = 60&#39;</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;localnode.</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)]))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set PLC to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set PLC to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_plc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_plc">[docs]</a>    <span class="k">def</span> <span class="nf">get_plc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets power line cycle (PLC) &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        plc: int</span>
<span class="sd">            Power line frequency setting used for NPLC calculations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: frequency = localnode.linefreq</span>
        <span class="c1"># Corresponding Command: flag = localnode.autolinefreq</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get PLC&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;localnode.linefreq&#39;</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get PLC&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get PLC</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_sense_nplc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sense_nplc">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_nplc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense nplc (number of power line cycle) of channel &lt;channel&gt; with the &lt;val&gt;-fold of one power line cycle.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        val: float</span>
<span class="sd">            Integration aperture for measurements. Must be in [0.001, 25].</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.measure.nplc = nplc</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set sense nplc of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1"> PLC&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.nplc = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense nplc of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense nplc of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sense_nplc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sense_nplc">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_nplc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense nplc (number of power line cycle) &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Integration aperture for measurements.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: nplc = smuX.measure.nplc</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get sense nplc of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.nplc&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense nplc of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense nplc of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_sense_autozero"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sense_autozero">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_autozero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets autozero of channel &lt;channel&gt; to &lt;val&gt;. Note that &quot;on&quot; means that the internal zero point is measured for each measurement, wherefore the measurement takes approximately twice as long as when the auto zero function is &quot;off&quot;</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        val: int</span>
<span class="sd">            Status of the internal reference measurements (autozero) of the source-measure unit. Possible values are 0 (off), 1 (on) or 2 (once).</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.measure.autozero = azMode</span>
        <span class="c1">#                        azMode: 0 (off) | 1 (once) | 2 (at each measurement)</span>
        <span class="n">val</span> <span class="o">=</span> <span class="mi">3</span><span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">val</span><span class="p">))</span><span class="o">-</span><span class="n">val</span>  <span class="c1"># swap 1 and 2</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set sense autozero of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.autozero = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense autozero of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense autozero of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sense_autozero"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sense_autozero">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_autozero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense autozero &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: int</span>
<span class="sd">            Status of the internal reference measurements (autozero) of the source-measure unit. Meanings are 0 (off), 1 (on) and 2 (once).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: azMode = smuX.measure.autozero</span>
        <span class="c1">#                        azMode: 0 (off) | 1 (once) | 2 (at each measurement)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get sense autozero of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.autozero&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))))</span>
            <span class="k">return</span> <span class="mi">3</span><span class="o">*</span><span class="nb">int</span><span class="p">(</span><span class="nb">bool</span><span class="p">(</span><span class="n">val</span><span class="p">))</span><span class="o">-</span><span class="n">val</span>  <span class="c1"># swap 1 and 2</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense autozero of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense autozero of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_status"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_status">[docs]</a>    <span class="k">def</span> <span class="nf">set_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets output status of channel &lt;channel&gt; to &lt;status&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        status: int</span>
<span class="sd">            Output status. Possible values are 0 (off), 1 (on) or 2 (high Z).</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.output = 0|1|2|smuX.OUTPUT_OFF|smuX.OUTPUT_ON|smuX.OUTPUT_HIGH_Z</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set output status of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">status</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.output = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">status</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set output status of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">status</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set output status of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">status</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_status"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_status">[docs]</a>    <span class="k">def</span> <span class="nf">get_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets output status &lt;status&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status: int</span>
<span class="sd">            Output status. Meanings are 0 (off), 1 (on) and 2 (high Z).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: 0|1|2|smuX.OUTPUT_OFF|smuX.OUTPUT_ON|smuX.OUTPUT_HIGH_Z = smuX.source.output</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get output status of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.output&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get output status of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get output status of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_bias_value"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_bias_value">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias value of channel &lt;channel&gt; to value &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias value.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.levelY = sourceLevel</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set bias value of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.level</span><span class="si">{:s}</span><span class="s1"> = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)],</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_bias_value"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_bias_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias value &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: sourceLevel = smuX.source.levelY</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get bias value of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.level</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)])))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias value of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias value of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sense_value"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sense_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">readingbuffer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense value of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        readingbuffer: str</span>
<span class="sd">            Reading buffer object where all readings will be stored</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: reading= smuX.measure.Y()</span>
        <span class="c1"># Corresponding Command: reading = smuX.measure.Y(readingbuffer)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get sense value of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.</span><span class="si">{:s}</span><span class="s1">(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)],</span> <span class="n">readingbuffer</span> <span class="k">if</span> <span class="n">readingbuffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense value of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense value of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_voltage"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_voltage">[docs]</a>    <span class="k">def</span> <span class="nf">set_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets voltage value of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias voltage value.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.levelY = sourceLevel</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set voltage value of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.levelv = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set voltage value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set voltage value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_voltage"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_voltage">[docs]</a>    <span class="k">def</span> <span class="nf">get_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">readingbuffer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets voltage value &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        readingbuffer: str</span>
<span class="sd">            Reading buffer object where all readings will be stored</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense voltage value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: reading = smuX.measure.Y()</span>
        <span class="c1"># Corresponding Command: reading = smuX.measure.Y(readingbuffer)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get voltage value of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.v(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">readingbuffer</span> <span class="k">if</span> <span class="n">readingbuffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get voltage value of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get voltage value of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_current"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_current">[docs]</a>    <span class="k">def</span> <span class="nf">set_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets current value of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias current value.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.source.levelY = sourceLevel</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set current value of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.source.leveli = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set current value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set current value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_current"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_current">[docs]</a>    <span class="k">def</span> <span class="nf">get_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">readingbuffer</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets current value &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        readingbuffer: str</span>
<span class="sd">            Reading buffer object where all readings will be stored</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense current value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: reading = smuX.measure.Y()</span>
        <span class="c1"># Corresponding Command: reading = smuX.measure.Y(readingbuffer)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get current value of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.i(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">readingbuffer</span> <span class="k">if</span> <span class="n">readingbuffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get current value of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get current value of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_IV"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_IV">[docs]</a>    <span class="k">def</span> <span class="nf">get_IV</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">readingbuffer</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets both current value &lt;I_val&gt; and voltage value &lt;V_val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        readingbuffer: str</span>
<span class="sd">            Reading buffer object where current (1st entry) and voltage (2nd entry) readings will be stored.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        I_val: float</span>
<span class="sd">            Sense current value.</span>
<span class="sd">        V_val: float</span>
<span class="sd">            Sense voltage value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: iReading, vReading= smuX.measure.iv()</span>
        <span class="c1"># Corresponding Command: iReading, vReading = smuX.measure.iv(ireadingbuffer)</span>
        <span class="c1"># Corresponding Command: iReading, vReading = smuX.measure.iv(ireadingbuffer, vreadingbuffer)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get current and voltage sense value of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.measure.iv</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">readingbuffer</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,)&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)])</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get current and voltage sense value of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get current and voltage sense value of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.ramp_bias"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.ramp_bias">[docs]</a>    <span class="k">def</span> <span class="nf">ramp_bias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ramps bias value of channel &lt;channel&gt; from recent value to stop value &lt;stop&gt; with step size &lt;step&gt; and step time &lt;step_time&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stop: float</span>
<span class="sd">            Stop value</span>
<span class="sd">        step: float</span>
<span class="sd">            Step size.</span>
<span class="sd">        step_time: float</span>
<span class="sd">            Sleep time between staircase ramp.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1. (default)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_value</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stop</span> <span class="o">&lt;</span> <span class="n">start</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="o">-</span><span class="n">step</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span><span class="o">+</span><span class="n">step</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_value</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">()]),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">step_time</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Keithley.ramp_voltage"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.ramp_voltage">[docs]</a>    <span class="k">def</span> <span class="nf">ramp_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ramps voltage of channel &lt;channel&gt; from recent value to stop value &lt;stop&gt; with step size &lt;step&gt; and step time &lt;step_time&gt; according to bias_mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stop: float</span>
<span class="sd">            Stop voltage value</span>
<span class="sd">        step: float</span>
<span class="sd">            Step voltage size.</span>
<span class="sd">        step_time: float</span>
<span class="sd">            Sleep time between voltage staircase ramp.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1. (default)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ramp_bias</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="n">step_time</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current bias)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39;: Cannot set voltage value of channel </span><span class="si">{!s}</span><span class="s1">: in the current bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.ramp_current"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.ramp_current">[docs]</a>    <span class="k">def</span> <span class="nf">ramp_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ramps current of channel &lt;channel&gt; from recent value to stop value &lt;stop&gt; with step size &lt;step&gt; and step time &lt;step_time&gt; according to bias_mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stop: float</span>
<span class="sd">            Stop current value</span>
<span class="sd">        step: float</span>
<span class="sd">            Step current size.</span>
<span class="sd">        step_time: float</span>
<span class="sd">            Sleep time between current staircase ramp.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1. (default)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ramp_bias</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="n">step_time</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage bias)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39;: Cannot ramp current value of channel </span><span class="si">{!s}</span><span class="s1">: in the voltage bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.set_sweep_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sweep_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_sweep_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">channels</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets an variable to decide weather</span>
<span class="sd">         * voltage is both applied and measured (VV-mode),</span>
<span class="sd">         * current is applied and voltage is measured (IV-mode) or</span>
<span class="sd">         * voltage is applied and current is measured (VI-mode)</span>
<span class="sd">        and channels &lt;channels&gt; that are used during sweeps.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sweep mode denoting bias and sense modes. Possible values are 0 (VV-mode), 1 (IV-mode) or 2 (VI-mode). Default is 1</span>
<span class="sd">        channels: int or tuple(int)</span>
<span class="sd">            Number of channel of usage. Must be 1 or 2 for IV-mode and VI-mode or a tuple containing both channels for VV-mode (1st argument as bias channel and 2nd argument as sense channel).</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_channels</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="mi">2</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)}</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="ow">not</span> <span class="n">mode</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channels</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span> <span class="o">=</span> <span class="n">channels</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">default_channels</span><span class="p">[</span><span class="n">mode</span><span class="p">]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span> <span class="o">=</span> <span class="n">default_channels</span><span class="p">[</span><span class="n">mode</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channels</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channels</span><span class="p">))</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep mode to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="o">=</span> <span class="n">mode</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__set_defaults_docstring</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep mode to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep mode to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_sweep_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sweep_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_sweep_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets an internal variable &lt;mode&gt; to decide weather</span>
<span class="sd">         * voltage is both applied and measured (VV-mode),</span>
<span class="sd">         * current is applied and voltage is measured (IV-mode) or</span>
<span class="sd">         * voltage is applied and current is measured (VI-mode).</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sweep mode denoting bias and sense modes. Meanings are 0 (VV-mode), 1 (IV-mode) or 2 (VI-mode).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span></div>
    
<div class="viewcode-block" id="Keithley.get_sweep_channels"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sweep_channels">[docs]</a>    <span class="k">def</span> <span class="nf">get_sweep_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets channels &lt;channels&gt; that are used during sweeps. In the IV and VI sweep mode one channel requires for biasing and sensing, whereas two channels are returned in the VV sweep mode (1st as bias and 2nd as sense channel).</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        channels: int or tuple(int)</span>
<span class="sd">            Number of channel of usage. Meanings are 1 or 2 for IV-mode and VI-mode or a tuple containing both channels for VV-mode (1st argument as bias channel and 2nd argument as sense channel).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span></div>
    
<div class="viewcode-block" id="Keithley.get_sweep_bias"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_sweep_bias">[docs]</a>    <span class="k">def</span> <span class="nf">get_sweep_bias</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls get_bias_mode of channel &lt;channel&gt;. This method is needed for qkit.measure.transport.transport.py in case of no virtual tunnel electronic.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Bias mode. Meanings are 0 (current) and 1 (voltage).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>
    
<div class="viewcode-block" id="Keithley.create_readingbuffer"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.create_readingbuffer">[docs]</a>    <span class="k">def</span> <span class="nf">create_readingbuffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">timestamps</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a new reading buffer with name &lt;name&gt; and maximal size &lt;size&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: str</span>
<span class="sd">            Name of the created reading buffer.</span>
<span class="sd">        size: int</span>
<span class="sd">            Maximum number of readings that can be stored. Maximal value is for default reading buffers is 60 000, when the timestamps and source values options are enabled or over 140 000, when the timestamps and source values options are disabled.</span>
<span class="sd">        timestamps: bool</span>
<span class="sd">            Status if timestamp values are stored with the readings in the buffer. Default is None.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: bufferVar = smuX.makebuffer(bufferSize)</span>
        <span class="c1"># Corresponding Command: bufferVar.collecttimestamps = state</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: create reading buffer </span><span class="si">{:s}</span><span class="s1"> for channel </span><span class="si">{:s}</span><span class="s1"> with size </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">size</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1"> = smu</span><span class="si">{:s}</span><span class="s1">.makebuffer(</span><span class="si">{:d}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">size</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Cannot create reading buffer </span><span class="si">{:s}</span><span class="s1"> for channel </span><span class="si">{:s}</span><span class="s1"> with size </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">size</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Cannot create reading buffer </span><span class="si">{:s}</span><span class="s1"> for channel </span><span class="si">{:s}</span><span class="s1"> with size </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">size</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">timestamps</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Set timestamps of reading buffer </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">timestamps</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">.collecttimestamps = {!d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">timestamps</span><span class="p">))</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Cannot set timestamps of reading buffer </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">timestamps</span><span class="p">))</span>
                <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Cannot set timestamps of reading buffer </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">timestamps</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.set_sweep_readingbuffer"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sweep_readingbuffer">[docs]</a>    <span class="k">def</span> <span class="nf">set_sweep_readingbuffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">readingbuffer_bias</span><span class="p">,</span> <span class="n">readingbuffer_sense</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets reading buffer that is used during sweeps.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">         readingbuffer_bias: str</span>
<span class="sd">             Reading buffer object where all bias readings will be stored.</span>
<span class="sd">         readingbuffer_sense: str</span>
<span class="sd">             Reading buffer object where all sense readings will be stored.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span> <span class="o">=</span> <span class="n">readingbuffer_bias</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span> <span class="o">=</span> <span class="n">readingbuffer_sense</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.set_sweep_parameters"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_sweep_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">set_sweep_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sweep parameters &lt;sweep&gt; and prepares instrument for the set sweep mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sweep: array_likes of floats</span>
<span class="sd">            Sweep range containing start, stop and step size (e.g. sweep object using qkit.measure.transport.transport.sweep class)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: format.data = value</span>
        <span class="c1"># Corresponding Command: format.asciiprecision = precision</span>
        <span class="c1"># Corresponding Command: smuX.trigger.source.linearY(startValue, endValue, points)</span>
        <span class="c1"># Corresponding Command: smuX.trigger.source.action = action</span>
        <span class="c1"># Corresponding Command: smuX.trigger.measure.action = action</span>
        <span class="c1"># Corresponding Command: bufferVar.clear()</span>
        <span class="c1"># Corresponding Command: smuX.trigger.measure.iv(ibuffer, vbuffer)</span>
        <span class="c1"># Corresponding Command: smuX.trigger.count = triggerCount</span>
        <span class="c1"># Corresponding Command: smuX.trigger.arm.count = triggerArmCount</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;format.data = format.ASCII&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;format.asciiprecision = 6&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">sweep</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">:</span>  <span class="c1"># 0 (VV-mode)</span>
                <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span>
                <span class="n">readingbuffer_bias</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel_bias</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span>
                <span class="n">readingbuffer_sense</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel_sense</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_step_signed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_stop</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_value</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">=</span>  <span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">.clear()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">readingbuffer_bias</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">.appendmode = 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">readingbuffer_bias</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">.clear()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">readingbuffer_sense</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">.appendmode = 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">readingbuffer_sense</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>  <span class="c1"># 1 (IV-mode) | 2 (VI-mode)</span>
                <span class="n">channel</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span>
                <span class="n">readingbuffer_bias</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span>
                <span class="n">readingbuffer_sense</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer2&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_nop</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_stop</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">)</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">_step</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">=</span>  <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.trigger.source.linear</span><span class="si">{:s}</span><span class="s1">(</span><span class="si">{:f}</span><span class="s1">, </span><span class="si">{:f}</span><span class="s1">, </span><span class="si">{:d}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_smu_command</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stop</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nop</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.trigger.source.action = 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.trigger.measure.action = 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">.clear()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">readingbuffer_bias</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">.clear()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">readingbuffer_sense</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.trigger.measure.iv(</span><span class="si">{:s}</span><span class="s1">, </span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="o">*</span><span class="p">[</span><span class="n">readingbuffer_bias</span><span class="p">,</span> <span class="n">readingbuffer_sense</span><span class="p">][::</span><span class="nb">int</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="mf">1.5</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">))])</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.trigger.count = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nop</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.trigger.arm.count = 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Cannot set sweep parameters in sweep mode </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Cannot set sweep parameters in sweep mode </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_stb</span><span class="p">(</span><span class="s1">&#39;status.OSB&#39;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1e-3</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep parameters of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">,</span> <span class="n">sweep</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep parameters of channel </span><span class="si">{:s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">,</span> <span class="n">sweep</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_tracedata"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_tracedata">[docs]</a>    <span class="k">def</span> <span class="nf">get_tracedata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Starts bias sweep with already set parameters and gets trace data of bias &lt;bias_values&gt; and sense &lt;sense_values&gt; in the set sweep mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bias_values: numpy.array(float)</span>
<span class="sd">            Measured bias values.</span>
<span class="sd">        sense_values: numpy.array(float)</span>
<span class="sd">            Measured sense values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: bufferVar.clear()</span>
        <span class="c1"># Corresponding Command: bufferVar.appendmode = state</span>
        <span class="c1"># Corresponding Command: smuX.source.levelY = sourceLevel</span>
        <span class="c1"># Corresponding Command: reading = smuX.measure.Y(readingbuffer)</span>
        <span class="c1"># Corresponding Command: numberOfReadings = bufferVar.n</span>
        <span class="c1"># Corresponding Command: smuX.trigger.initiate()</span>
        <span class="c1"># Corresponding Command: waitcomplete()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">:</span>  <span class="c1"># 0 (VV-mode)</span>
                <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span>
                <span class="n">readingbuffer_bias</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel_bias</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span>
                <span class="n">readingbuffer_sense</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel_sense</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span>
                <span class="c1"># sweep channel_bias and measure channel_sense</span>
                <span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;for i = </span><span class="si">{:f}</span><span class="s1">, </span><span class="si">{:f}</span><span class="s1">, </span><span class="si">{:f}</span><span class="s1"> do&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_start</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_stop</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">_step_signed</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_step_signed</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">smu</span><span class="si">{:s}</span><span class="s1">.source.levelv = i&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel_bias</span><span class="p">))</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">smu</span><span class="si">{:s}</span><span class="s1">.measure.v(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel_bias</span><span class="p">),</span> <span class="n">readingbuffer_bias</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">smu</span><span class="si">{:s}</span><span class="s1">.measure.v(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel_sense</span><span class="p">),</span> <span class="n">readingbuffer_sense</span><span class="p">)</span>
                <span class="n">cmd</span> <span class="o">+=</span> <span class="s1">&#39;end</span><span class="se">\n</span><span class="s1">&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>  <span class="c1"># 1 (IV-mode) | 2 (VI-mode)</span>
                <span class="n">channel</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span>
                <span class="n">readingbuffer_bias</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_bias</span>
                <span class="n">readingbuffer_sense</span> <span class="o">=</span> <span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.nvbuffer2&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">))</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">_readingbuffer_sense</span>
                <span class="c1"># sweep and measure channel</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.trigger.initiate()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;waitcomplete()&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_stb</span><span class="p">()</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
            <span class="c1"># read data</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;*CLS&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_stb</span><span class="p">(</span><span class="s1">&#39;status.MAV&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;printbuffer(1, </span><span class="si">{:s}</span><span class="s1">.n, </span><span class="si">{:s}</span><span class="s1">, </span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">readingbuffer_bias</span><span class="p">,</span> <span class="n">readingbuffer_bias</span><span class="p">,</span> <span class="n">readingbuffer_sense</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_stb</span><span class="p">()</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">count</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">::</span><span class="mi">2</span><span class="p">],</span> <span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot take sweep data of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot take sweep data of channel </span><span class="si">{:s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.take_IV"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.take_IV">[docs]</a>    <span class="k">def</span> <span class="nf">take_IV</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes IV curve with sweep parameters &lt;sweep&gt; in set sweep mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sweep: array_likes of floats</span>
<span class="sd">            Sweep range containing start, stop and step size (e.g. sweep object using qkit.measure.transport.transport.sweep class)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bias_values: numpy.array(float)</span>
<span class="sd">            Measured bias values.</span>
<span class="sd">        sense_values: numpy.array(float)</span>
<span class="sd">            Measured sense values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sweep_parameters</span><span class="p">(</span><span class="n">sweep</span><span class="o">=</span><span class="n">sweep</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tracedata</span><span class="p">()</span></div>
    
    <span class="k">def</span> <span class="nf">_prepare_stb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stb</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prepares status bit &lt;stb&gt; for high level query.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stb: str</span>
<span class="sd">            Status bit. Possible values are status.MSB (measurement summary bit), status.SSB (system summary bit), status.EAV (error available), status.QSB (questionable summary bit), status.MAV (meassage available), status.ESB (event summary bit), status.MSS (master summary bit), status.OSB (operation summary bit)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: status.reset()</span>
        <span class="c1"># Corresponding Command: status.operation.user.condition = operationRegister</span>
        <span class="c1"># Corresponding Command: status.operation.user.enable = operationRegister</span>
        <span class="c1"># Corresponding Command: status.operation.user.ptr = operationRegister</span>
        <span class="c1"># Corresponding Command: status.operation.enable = operationRegister</span>
        <span class="c1"># Corresponding Command: status.request_enable = requestSRQEnableRegister</span>
        <span class="n">cmd</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;status.reset()</span>
<span class="s1">                 status.operation.user.condition = 0</span>
<span class="s1">                 status.operation.user.enable = status.operation.user.BIT0</span>
<span class="s1">                 status.operation.user.ptr = status.operation.user.BIT0</span>
<span class="s1">                 status.operation.enable = status.operation.USER</span>
<span class="s1">                 status.request_enable = </span><span class="si">{:s}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stb</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_wait_for_stb</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">wait_time</span><span class="o">=</span><span class="mf">1e-1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the status bit occurs.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        wait_time: float</span>
<span class="sd">            Sleep time between status bit queries.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: status.operation.user.condition = operationRegister</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;status.operation.user.condition = status.operation.user.BIT0&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_read_stb</span><span class="p">()</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_read_stb</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Keithley.get_OPC"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_OPC">[docs]</a>    <span class="k">def</span> <span class="nf">get_OPC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets condition of standard event register entry &quot;Operation complete&quot; &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: bool</span>
<span class="sd">            Operation complete of standard event register.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: *OPC</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span><span class="si">{!s}</span><span class="s1">: Get ccr event &quot;Operation complete&quot;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;*OPC&#39;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get ccr condition &quot;Operation complete&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get ccr condition &quot;Operation complete&quot;</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_wait_for_OPC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the condition of standard event register entry &quot;Operation complete&quot; is fulfilled.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_OPC</span><span class="p">()):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1e-3</span><span class="p">)</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Keithley.set_defaults"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.set_defaults">[docs]</a>    <span class="k">def</span> <span class="nf">set_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets default settings that are:</span>
<span class="sd">        default parameters</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sweep mode denoting bias and sense modes. Possible values are 0 (VV-mode), 1 (IV-mode) or 2 (VI-mode). Default is 1</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="c1"># beeper off</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;beeper.enable = 0&#39;</span><span class="p">)</span>
        <span class="c1"># distiguish different sweep modes</span>
        <span class="k">if</span> <span class="n">sweep_mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_sweep_mode</span><span class="p">(</span><span class="n">sweep_mode</span><span class="p">)</span>
        <span class="c1"># set values</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">func</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">func</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">return</span></div>
    
    <span class="k">def</span> <span class="nf">__set_defaults_docstring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Sets docstring of &quot;set_defaults&quot; method with actual default settings.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">new</span> <span class="o">=</span> <span class="s1">&#39;sweep mode: </span><span class="si">{:d}</span><span class="s1">:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">    channel: </span><span class="si">{:d}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="se">\t\t</span><span class="si">{:s}</span><span class="s1">: </span><span class="si">{!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key_parameter</span><span class="p">,</span> <span class="n">val_parameter</span><span class="p">)</span> <span class="k">for</span> <span class="n">key_parameter</span><span class="p">,</span> <span class="n">val_parameter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_defaults</span><span class="o">.</span><span class="vm">__func__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_defaults</span><span class="o">.</span><span class="vm">__func__</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_str</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_str</span> <span class="o">=</span> <span class="n">new</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Keithley.get_all"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_all">[docs]</a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prints all settings of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get all&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;measurement mode   = </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_measurement_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_measurement_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias mode          = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense mode         = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias range         = </span><span class="si">{:1.0e}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_range</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense range        = </span><span class="si">{:1.0e}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_range</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias delay         = </span><span class="si">{:1.3e}</span><span class="s1">s&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_delay</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense delay        = </span><span class="si">{:1.3e}</span><span class="s1">s&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_delay</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense average      = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_average</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense average type = </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_avg_types</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_average</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)[</span><span class="mi">2</span><span class="p">]]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plc                = </span><span class="si">{:f}</span><span class="s1">Hz&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_plc</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense nplc         = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_nplc</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense autozero     = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_autozero</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;status             = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_status</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias value         = </span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_value</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense value        = </span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_value</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error</span><span class="se">\t\t</span><span class="s1">   = </span><span class="si">{:d}</span><span class="se">\n\t\t</span><span class="s1">     </span><span class="si">{:s}</span><span class="se">\n\t\t</span><span class="s1">     </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">err</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">err</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">err</span><span class="p">[</span><span class="mi">2</span><span class="p">]))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.reset"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resets the instrument or a single channel to default conditions.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel to be set. Must be None, 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: reset()</span>
        <span class="c1"># Corresponding Command: smuX.reset()</span>
        <span class="k">if</span> <span class="n">channel</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Reset instrument to factory settings&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;reset()&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;status.reset()&#39;</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot reset instrument to factory settings&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
                <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot reset instrument to factory settings</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Reset channel </span><span class="si">{:s}</span><span class="s1"> to factory settings&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.reset()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot reset channel </span><span class="si">{:s}</span><span class="s1"> to factory settings&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
                <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot reset channel </span><span class="si">{:s}</span><span class="s1"> to factory settings</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.abort"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.abort">[docs]</a>    <span class="k">def</span> <span class="nf">abort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Aborts the running command of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel to be set. Must be None, 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: smuX.abort()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Abort running command of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;smu</span><span class="si">{:s}</span><span class="s1">.abort()&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">chr</span><span class="p">(</span><span class="mi">96</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot abort running command of channel </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot abort running command of channel </span><span class="si">{:s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">64</span><span class="o">+</span><span class="n">channel</span><span class="p">),</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Keithley.get_error"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_error">[docs]</a>    <span class="k">def</span> <span class="nf">get_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets errors of instrument and removes them from the error queue.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        err: array of str</span>
<span class="sd">            Entries from the error queue</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: errorCount = errorqueue.count</span>
        <span class="c1"># Corresponding Command: errorCode, message, severity, errorNode = errorqueue.next() </span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get errors of instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="n">err</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;print(errorqueue.next())&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;print(errorqueue.count)&#39;</span><span class="p">))))]</span>
            <span class="n">err</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">])),</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">2</span><span class="p">]))]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">err</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">err</span><span class="p">:</span>
                <span class="n">err</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;no error&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
            <span class="k">return</span> <span class="n">err</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get errors of instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get errors of instrument</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_raise_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets errors of instrument and as the case may be raises a python error.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">errors</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># no error</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39; raises the following errors:&#39;</span>
            <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="si">{:s}</span><span class="s1"> (</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">err_msg</span><span class="p">[</span><span class="n">err</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">err</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    
<div class="viewcode-block" id="Keithley.clear_error"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.clear_error">[docs]</a>    <span class="k">def</span> <span class="nf">clear_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears error of instrument.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: errorqueue.clear()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Clear error&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;errorqueue.clear()&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot clear errors&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot clear errors</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.close"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.close">[docs]</a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Closes the VISA-instrument to disconnect the instrument.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Close VISA-instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot close VISA-instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot close VISA-instrument</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Keithley.get_parameters"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">get_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a parameter list &lt;parlist&gt; of measurement specific setting parameters.</span>
<span class="sd">        Needed for .set-file in &#39;write_additional_files&#39;, if qt parameters are not used.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        parlist: dict</span>
<span class="sd">            Parameter names as keys, corresponding channels of interest as values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parlist</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;measurement_mode&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_mode&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_mode&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_range&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_range&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_delay&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_delay&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_average&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;plc&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_nplc&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_autozero&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]}}</span>
        <span class="k">return</span> <span class="n">parlist</span></div>

<div class="viewcode-block" id="Keithley.get"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Keithley.Keithley.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the current parameter &lt;param&gt; by evaluation &#39;get_&#39;+&lt;param&gt; and corresponding channel if needed</span>
<span class="sd">        In combination with &lt;self.get_parameters&gt; above.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        param: str</span>
<span class="sd">            Parameter of interest.</span>
<span class="sd">        channels: array_likes</span>
<span class="sd">            Number of channels of interest. Must be in {1, 2} for channel specific parameters or None for channel independent (global) parameters.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        parlist: dict</span>
<span class="sd">            Parameter names as keys, values of corresponding channels as values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">channels</span> <span class="o">==</span> <span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;get_</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">param</span><span class="p">))()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;get_</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">param</span><span class="p">))(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span> <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">])</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, QKITgroup.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>