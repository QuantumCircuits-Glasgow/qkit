<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>qkit.drivers.Yokogawa &mdash; QKIT 0.3 alpha documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            QKIT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">qkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../_notebooks/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Contributing.html">How to contribute</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">QKIT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">qkit.drivers.Yokogawa</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for qkit.drivers.Yokogawa</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>

<span class="c1"># Yokogawa.py driver for Yokogawa GS820 multi channel source measure unit</span>
<span class="c1"># Hannes Rotzinger, hannes.rotzinger@kit.edu 2010</span>
<span class="c1"># Micha Wildermuth, micha.wildermuth@kit.edu 2017</span>
<span class="c1">#</span>
<span class="c1"># This program is free software; you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation; either version 2 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># This program is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with this program; if not, write to the Free Software</span>
<span class="c1"># Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA</span>

<span class="kn">from</span> <span class="nn">qkit.core.instrument_base</span> <span class="kn">import</span> <span class="n">Instrument</span>
<span class="kn">from</span> <span class="nn">qkit</span> <span class="kn">import</span> <span class="n">visa</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">distutils.version</span> <span class="kn">import</span> <span class="n">LooseVersion</span>


<div class="viewcode-block" id="Yokogawa"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa">[docs]</a><span class="k">class</span> <span class="nc">Yokogawa</span><span class="p">(</span><span class="n">Instrument</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the driver for the Yokogawa GS820 multi channel source measure unit.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">address</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes VISA communication with the instrument Yokogawa GS820.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        name: string</span>
<span class="sd">            Name of the instrument (driver).</span>
<span class="sd">        address: string</span>
<span class="sd">            GPIB address for the communication with the instrument.</span>
<span class="sd">        reset: bool, optional</span>
<span class="sd">            Resets the instrument to default conditions. Default is False.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Examples</span>
<span class="sd">        --------</span>
<span class="sd">        &gt;&gt;&gt; import qkit</span>
<span class="sd">        QKIT configuration initialized -&gt; available as qkit.cfg[...]</span>
<span class="sd">        </span>
<span class="sd">        &gt;&gt;&gt; qkit.start()</span>
<span class="sd">        Starting QKIT framework ... -&gt; qkit.core.startup</span>
<span class="sd">        Loading module ... S10_logging.py</span>
<span class="sd">        Loading module ... S12_lockfile.py</span>
<span class="sd">        Loading module ... S14_setup_directories.py</span>
<span class="sd">        Loading module ... S20_check_for_updates.py</span>
<span class="sd">        Loading module ... S25_info_service.py</span>
<span class="sd">        Loading module ... S30_qkit_start.py</span>
<span class="sd">        Loading module ... S65_load_RI_service.py</span>
<span class="sd">        Loading module ... S70_load_visa.py</span>
<span class="sd">        Loading module ... S80_load_file_service.py</span>
<span class="sd">        Loading module ... S85_init_measurement.py</span>
<span class="sd">        Loading module ... S98_started.py</span>
<span class="sd">        Loading module ... S99_init_user.py</span>
<span class="sd">        </span>
<span class="sd">        &gt;&gt;&gt; IVD = qkit.instruments.create(&#39;IVD&#39;, &#39;Yokogawa&#39;, address=&#39;TCPIP0::00.00.000.00::INSTR&#39;, reset=True)</span>
<span class="sd">        Initialized the file info database (qkit.fid) in 0.000 seconds.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__name__</span> <span class="o">=</span> <span class="vm">__name__</span>
        <span class="c1"># Start VISA communication</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39;: Initializing instrument Yokogawa_GS820&#39;</span><span class="p">)</span>
        <span class="n">Instrument</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;physical&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_address</span> <span class="o">=</span> <span class="n">address</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span> <span class="o">=</span> <span class="n">visa</span><span class="o">.</span><span class="n">instrument</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_address</span><span class="p">)</span>
        <span class="c1"># Set termination characters (necessary for Ethernet communication)</span>
        <span class="k">if</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="n">visa</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">LooseVersion</span><span class="p">(</span><span class="s2">&quot;1.5.0&quot;</span><span class="p">):</span>  <span class="c1"># pyvisa 1.4</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">term_chars</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># pyvisa 1.5</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">read_termination</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write_termination</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="c1"># initial variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># IV-mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_measurement_modes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;2-wire&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;4-wire&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;curr&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;volt&#39;</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;V&#39;</span><span class="p">}</span>
        <span class="c1"># dict of defaults values: defaults[&lt;sweep_mode&gt;][&lt;channel&gt;][&lt;parameter&gt;][&lt;value&gt;]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">200e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">},</span>
                              <span class="p">{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">200e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">}],</span>
                          <span class="mi">1</span><span class="p">:</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_trigger</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;str(&#39;sens&#39;)&#39;&#39;&#39;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_trigger</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;str(&#39;sour&#39;)&#39;&#39;&#39;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">200e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">}],</span>
                          <span class="mi">2</span><span class="p">:</span> <span class="p">[{</span><span class="bp">self</span><span class="o">.</span><span class="n">set_measurement_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_mode</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_mode</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_trigger</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;str(&#39;sens&#39;)&#39;&#39;&#39;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_trigger</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;str(&#39;sour&#39;)&#39;&#39;&#39;</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_delay</span><span class="p">:</span> <span class="mf">200e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_delay</span><span class="p">:</span> <span class="mf">15e-6</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_nplc</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_average</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                               <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_autozero</span><span class="p">:</span> <span class="mi">0</span><span class="p">}]}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_str</span> <span class="o">=</span> <span class="s1">&#39;default parameters&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__set_defaults_docstring</span><span class="p">()</span>
        <span class="c1"># condition code registers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bias_ccr</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;EOS1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 End of Sweep&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;RDY1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Ready for Sweep&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;LL01&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Low Limiting&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;LHI1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 High Limiting&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;TRP1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Tripped&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;EMR1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Emergency (Temperature/Current over)&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;EOS2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 End of Sweep&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;RDY2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 Ready for Sweep&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;LL02&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 Low Limiting&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;LHI2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 High Limiting&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;TRP2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 Tripped&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;EMR2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 Emergency (Temperature/Current over)&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;ILC&#39;</span><span class="p">,</span> <span class="s1">&#39;Inter Locking&#39;</span><span class="p">),</span>
                         <span class="p">(</span><span class="s1">&#39;SSB&#39;</span><span class="p">,</span> <span class="s1">&#39;Start Sampling Error&#39;</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sense_ccr</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;EOM1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 End of Measure&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;CLO1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Compare result is Low&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;CHI1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Compare result is High&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;OVR1&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Over Range&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;EOM2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 End of Measure&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;CLO2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 Compare result is Low&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;CHI2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH1 Compare result is High&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;OVR2&#39;</span><span class="p">,</span> <span class="s1">&#39;CH2 Over Range&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;EOT&#39;</span><span class="p">,</span> <span class="s1">&#39;End of Trace&#39;</span><span class="p">),</span>
                          <span class="p">(</span><span class="s1">&#39;TSE&#39;</span><span class="p">,</span> <span class="s1">&#39;Trigger Sampling Error&#39;</span><span class="p">)]</span>
        <span class="c1"># error messages</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">err_msg</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">101</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid_character: Check whether invalid characters such as $ or &amp; are used in the command header or parameters.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">102</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Syntax_error: Check that the syntax is correct.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">103</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid separator: Check the use of the separator (comma).&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">106</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parameter not allowed: Check the command and the number of parameters.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">107</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Missing parameter: Check the command and the number of parameters.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">112</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Program mnemonic too long: Check the command mnemonic.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">113</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Undefined header: Check the command mnemonic.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">121</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid character in number: Check that the notation of the numeric parameter is correct (for example, binary notation should not contain characters other than 0 and 1)&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">122</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Header suffix out of range: Check whether the numeric suffix of the command header is correct.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">123</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Exponent too large: Check whether the exponent is within the range of -127 to 127.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">124</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Too many digits: Check that the number of digits in the value does not exceed 255.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">128</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Numeric data not allowed: Check the parameter format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">131</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid suffix: Check the unit that can be used for the parameter.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">138</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Suffix not allowed: Check the parameter format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">141</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid character data: Check the character data that can be used for the parameter.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">148</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Character data not allowed: Check the command and parameter format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">150</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;String data error: Check that the closing quotation mark (&quot; or &#39;) for a string is available.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">151</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid string data: Check that the string parameter is in the correct format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">158</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;String data not allowed: Check the command and parameter format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">161</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Invalid block data: Check that the block data is in the correct format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">168</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Block data not allowed: Check the command and parameter format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">178</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Expression data not allowed: Check the command and parameter format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">222</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Data out of range: Check the selectable range of the parameter. If the command can use MINimum and MAXimum as its parameter, the range can also be queried.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">256</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Filename not found: Check that the file exists. You can also use the CATalog? command to query the list of files.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">285</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Program syntax error: Check that the sweep pattern file is in the correct format.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">350</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Queue overflow: Read the error using :SYSTem:ERRor? or clear the error queue using *CLS.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">361</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Parity error: Check that the communication settings on the GS820 and PC match. If the settings are correct, check the cable, and lower the baud rate.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">362</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Framing error: Check that the communication settings on the GS820 and PC match. If the settings are correct, check the cable, and lower the baud rate.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">363</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Input buffer overrun: Set the handshaking to a setting other than OFF. Lower the baud rate.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">410</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Query INTERRUPTED: Check transmission/reception procedure.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">420</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Query UNTERMINATED: Check transmission/reception procedure.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">-</span><span class="mi">430</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Query DEADLOCK: Keep the length of a program message less than or equal to 64 KB.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">101</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Too complex expression: Keep the total number of constants, variables, and operators in a MATH definition less than or equal to 256.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">102</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Math file syntax error: Check that the syntax of the MATH definition file is correct.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">103</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Too large file error: Keep MATH definition files less than 4 KB in size.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">104</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Illegal file error: Download the file for updating the system firmware again.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">105</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;No slave SMU found: Check that the connection between the master and slave units is correct.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">200</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Sweep stopped because of the setting change: Stop the sweep operation before changing the settings.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">202</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Interlocking: Release the interlock, and then turn the output ON.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">203</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot relay on in hardware abnormal: Check whether the temperature inside the case is okay.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">204</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Hardware input abnormal error: Connect a load within the specifications.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">205</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Analog busy: Change the settings after the calibration or self-test is completed.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">206</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Low battery: Request to have the battery replaced, because the time stamp when creating files will not be correct.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">207</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Power line frequency measure failure: Directly set the line frequency.&#39;&#39;&#39;</span><span class="p">,</span>
                        <span class="o">+</span><span class="mi">304</span><span class="p">:</span> <span class="s1">&#39;&#39;&#39;Cannot change setting in auto measure function: If you want to change the measurement function, select a measurement mode other than auto function.&#39;&#39;&#39;</span><span class="p">}</span>
        <span class="c1"># reset</span>
        <span class="k">if</span> <span class="n">reset</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_all</span><span class="p">()</span>
        <span class="k">return</span>
    
    <span class="k">def</span> <span class="nf">_write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a visa command &lt;cmd&gt;, waits until &quot;operation complete&quot; and raises eventual errors of the Device.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cmd: str</span>
<span class="sd">            Command that is send to the instrument via pyvisa and NI-VISA backend.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;*OPC?&#39;</span><span class="p">))):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1e-6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error</span><span class="p">()</span>
        <span class="k">return</span>
    
    <span class="k">def</span> <span class="nf">_ask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cmd</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sends a visa command &lt;cmd&gt;, waits until &quot;operation complete&quot;, raises eventual errors of the Device and returns the read answer &lt;ans&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        cmd: str</span>
<span class="sd">            Command that is send to the instrument via pyvisa and NI-VISA backend.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        answer: str</span>
<span class="sd">            Answer that is returned at query after the sent &lt;cmd&gt;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;?&#39;</span> <span class="ow">in</span> <span class="n">cmd</span><span class="p">:</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">?&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="p">))</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;*OPC?&#39;</span><span class="p">))):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1e-6</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">ans</span>
    
<div class="viewcode-block" id="Yokogawa.set_measurement_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_measurement_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_measurement_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets measurement mode (wiring system) of channel &lt;channel&gt; to &lt;mode&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: int</span>
<span class="sd">            State of the measurement sense mode. Must be 0 (2-wire) or 1 (4-wire).</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:REMote 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set measurement mode of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:rem </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set measurement mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set measurement mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_measurement_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_measurement_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_measurement_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets measurement mode (wiring system) &lt;mode&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            State of the measurement sense mode. Meanings are 0 (2-wire) and 1 (4-wire).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:REMote 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get measurement mode of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:rem&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get measurement mode of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get measurement mode of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sync"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sync">[docs]</a>    <span class="k">def</span> <span class="nf">set_sync</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the interchannel synchronization to &lt;val&gt;. The first channel is always the &quot;master&quot;, the second the &quot;slave&quot;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: bool</span>
<span class="sd">			Inter-channel synchronization mode specifies whether two channels are to be operated in sync.</span>
<span class="sd">		</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :SYNChronize:CHANnel 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set interchannel synchronization to </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:sync:chan </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set interchannel synchronization to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set interchannel synchronization to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sync"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sync">[docs]</a>    <span class="k">def</span> <span class="nf">get_sync</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the interchannel synchronization.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">		</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: bool</span>
<span class="sd">			Inter-channel synchronization mode specifies whether two channels are to be operated in sync.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :SYNChronize:CHANnel 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get interchannel synchronization&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:sync:chan&#39;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get interchannel synchronization&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get interchannel synchronization</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_bias_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_bias_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias mode of channel &lt;channel&gt; to mode &lt;mode&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        mode: int</span>
<span class="sd">            Bias mode. Must be 0 (current) or 1 (voltage).</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:FUNCtion VOLTage|CURRent</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set bias mode of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:func </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="n">mode</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_range</span><span class="p">(</span><span class="n">val</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_bias_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_bias_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias mode &lt;mode&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Bias mode. Meanings are 0 (current) and 1 (voltage).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:FUNCtion VOLTage|CURRent</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias mode of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:func&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">())])</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias mode of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias mode of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sense_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sense_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense mode of channel &lt;channel&gt; to mode &lt;mode&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sense mode. Must be 0 (current) or 1 (voltage).</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:FUNCtion VOLTage|CURRent</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sense mode of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:func </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="n">mode</span><span class="p">]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_range</span><span class="p">(</span><span class="n">val</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense mode of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense mode &lt;mode&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sense mode. Meanings are 0 (current) and 1 (voltage).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:FUNCtion VOLTage|CURRent</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense mode of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="o">.</span><span class="n">values</span><span class="p">())</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:func&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">())])</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense mode of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense mode of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_bias_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_bias_range">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias range of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias range. Possible values are -1 (auto), for currents 200nA, 2uA, 20uA, 200uA, 2mA, 20mA, 200mA, 1 A, 3A and for voltages 200mV, 2V, 7V, 18V.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:RANGe &lt;voltage&gt;|MINimum|MAXimum|UP|DOWN </span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:CURRent]:RANGe &lt;current&gt;|MINimum|MAXimum|UP|DOWN </span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set bias range of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:rang:auto 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:rang </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_bias_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_bias_range">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias mode &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:RANGe &lt;voltage&gt;|MINimum|MAXimum|UP|DOWN </span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:CURRent]:RANGe &lt;current&gt;|MINimum|MAXimum|UP|DOWN </span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias range of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:rang&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias range of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias range of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sense_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sense_range">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense range of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense range. Possible values are -1 (auto), for currents 200nA, 2uA, 20uA, 200uA, 2mA, 20mA, 200mA, 1 A, 3A and for voltages 200mV, 2V, 7V, 18V.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe[:VOLTage]:RANGe &lt;voltage&gt;|MINimum|MAXimum|UP|DOWN</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe[:CURRent]:RANGe &lt;current&gt;|MINimum|MAXimum|UP|DOWN</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sense range of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:rang:auto 1&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:rang </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense range of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_range"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_range">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_range</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense mode &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe[:VOLTage]:RANGe &lt;voltage&gt;|MINimum|MAXimum|UP|DOWN</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe[:CURRent]:RANGe &lt;current&gt;|MINimum|MAXimum|UP|DOWN</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense range of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:rang&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense range of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense range of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_bias_trigger"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_bias_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">val</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias trigger mode of channel &lt;channel&gt; to &lt;mode&gt; and optional value &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: str</span>
<span class="sd">			Bias trigger mode. Must be &#39;ext&#39; (external), &#39;aux&#39; (auxiliary), &#39;tim1&#39; (timer1), &#39;tim2&#39; (timer2) or &#39;sens&#39; (sense).</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        time: float, optional</span>
<span class="sd">			Time trigger period if &lt;mode&gt; is &#39;timer&#39;. Must be in [100µs, 3600s].</span>
<span class="sd">		pol: int, optional</span>
<span class="sd">			Polarity of auxiliary trigger if &lt;mode&gt; is &#39;aux&#39;. Must be 0 (falling edge) or 1 (rising edge).</span>
<span class="sd">		</span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:TRIGger EXTernal|AUXiliary|TIMer1|TIMer2|SENSe</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:TRIGger:AUXiliary:POLarity NORMal|INVerted</span>
        <span class="c1"># Corresponding Command: :TRIGger:TIMer1 &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set bias trigger of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:trig </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">if</span> <span class="s1">&#39;pol&#39;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                <span class="n">cmd</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;inv&#39;</span><span class="p">}</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:trig:aux:pol </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">cmd</span><span class="p">[</span><span class="n">val</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pol&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]))</span>
            <span class="k">if</span> <span class="s1">&#39;time&#39;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:trig:</span><span class="si">{:s}</span><span class="s1"> </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">val</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="mf">50e-3</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias trigger of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias trigger of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_bias_trigger"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_bias_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias trigger of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: str</span>
<span class="sd">			Bias trigger mode. Meanings are &#39;ext&#39; (external), &#39;aux&#39; (auxiliary), &#39;tim1&#39; (timer1), &#39;tim2&#39; (timer2) and &#39;sens&#39; (sense).</span>
<span class="sd">        time: float, optional</span>
<span class="sd">			Time trigger period if &lt;mode&gt; is &#39;timer&#39;.</span>
<span class="sd">		pol: int, optional</span>
<span class="sd">			Polarity of auxiliary trigger if &lt;mode&gt; is &#39;aux&#39;. Meanings are 0 (falling edge) and 1 (rising edge).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:TRIGger EXTernal|AUXiliary|TIMer1|TIMer2|SENSe</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:TRIGger:AUXiliary:POLarity NORMal|INVerted</span>
        <span class="c1"># Corresponding Command: :TRIGger:TIMer1 &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias trigger of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:trig&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">mode</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;tim&#39;</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:trig:</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">)))</span>
                <span class="k">return</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span>
            <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;aux&#39;</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:trig:aux:pol&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))))</span>
                <span class="k">return</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">mode</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias trigger of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias trigger of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sense_trigger"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sense_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">val</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense trigger mode of channel &lt;channel&gt; to &lt;mode&gt; and optional value &lt;val&gt;. If &lt;mode&gt; is &#39;timer&#39; it can be set to &lt;time&gt;</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: str</span>
<span class="sd">			Sense trigger mode. Must be &#39;sour&#39; (source), &#39;swe&#39; (sweep), &#39;aux&#39; (auxiliary), &#39;tim1&#39; (timer1), &#39;tim2&#39; (timer2) or &#39;imm&#39; (immediate).</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        time: float, optional</span>
<span class="sd">			Time trigger period. Must be in [100µs, 3600s].</span>
<span class="sd">		pol: int, optional</span>
<span class="sd">			Polarity of auxiliary trigger if &lt;mode&gt; is &#39;aux&#39;. Must be 0 (falling edge) or 1 (rising edge).</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:TRIGger SOURce|SWEep|AUXiliary|TIMer1|TIMer2|IMMediate</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:TRIGger:AUXiliary:POLarity NORMal|INVerted</span>
        <span class="c1"># Corresponding Command: :TRIGger:TIMer1 &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sense trigger of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:trig </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">if</span> <span class="s1">&#39;time&#39;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:trig:</span><span class="si">{:s}</span><span class="s1"> </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">val</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="mf">50e-3</span><span class="p">)))</span>
            <span class="k">elif</span> <span class="s1">&#39;pol&#39;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                <span class="n">cmd</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;inv&#39;</span><span class="p">}</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:trig:aux:pol </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">cmd</span><span class="p">[</span><span class="n">val</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pol&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)]))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense trigger of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense trigger of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_trigger"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_trigger">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense trigger of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: str</span>
<span class="sd">			Sense trigger mode. Meanings are &#39;sour&#39; (source), &#39;swe&#39; (sweep), &#39;aux&#39; (auxiliary), &#39;tim1&#39; (timer1), &#39;tim2&#39; (timer2) or &#39;imm&#39; (immediate).</span>
<span class="sd">        time: float, optional</span>
<span class="sd">			Time trigger period.</span>
<span class="sd">		pol: int, optional</span>
<span class="sd">			Polarity of auxiliary trigger if &lt;mode&gt; is &#39;aux&#39;. Meanings are 0 (falling edge) and 1 (rising edge).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:TRIGger SOURce|SWEep|AUXiliary|TIMer1|TIMer2|IMMediate</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:TRIGger:AUXiliary:POLarity NORMal|INVerted</span>
        <span class="c1"># Corresponding Command: :TRIGger:TIMer1 &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense trigger of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="n">mode</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:trig&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">mode</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;tim&#39;</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:trig:</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mode</span><span class="p">)))</span>
                <span class="k">return</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span>
            <span class="k">elif</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;aux&#39;</span><span class="p">:</span>
                <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:trig:aux:pol&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))))</span>
                <span class="k">return</span> <span class="n">mode</span><span class="p">,</span> <span class="n">val</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">mode</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense trigger of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense trigger of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_bias_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_bias_delay">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias delay of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias delay with respect to the bias trigger. Must be are in [15µs, 3600s].</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:DELay &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set bias delay of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:del </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_bias_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_bias_delay">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias delay &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias delay with respect to the bias trigger.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:DELay &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias delay of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:del&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias delay of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias delay of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sense_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sense_delay">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense delay of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense delay with respect to the sense trigger. Must be are in [15µs, 3600s].</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:DELay &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sense delay of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:del </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense delay of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_delay"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_delay">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense delay &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense delay with respect to the sense trigger.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:DELay &lt;time&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense delay of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:del&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense delay of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense delay of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sense_average"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sense_average">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense average of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        If &lt;val&gt; is less than 1 average status is turned off, but the set value remains.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: int</span>
<span class="sd">            Number of measured readings that are required to yield one filtered measurement. Must be in [1, 100].</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:AVERage[:STATe] 1|0|ON|OFF</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:AVERage:COUNt &lt;integer&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sense average of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="n">status</span> <span class="o">=</span> <span class="ow">not</span><span class="p">(</span><span class="mf">.5</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">val</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span>  <span class="c1"># equals Heaviside(1-&lt;val&gt;) --&gt; turns on for &lt;val&gt; &gt;= 2</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:aver:stat </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">status</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:aver:coun </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense average of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense average of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_average"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_average">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_average</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense average status &lt;status&gt; and value &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status: bool</span>
<span class="sd">            Status if the measurement filter is enabled.</span>
<span class="sd">        val: int</span>
<span class="sd">            Number of measured readings that are required to yield one filtered measurement.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:AVERage[:STATe] 1|0|ON|OFF</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:AVERage:COUNt &lt;integer&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense average of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="n">status</span> <span class="o">=</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:aver:stat&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))))</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:aver:coun&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
            <span class="k">return</span> <span class="n">status</span><span class="p">,</span> <span class="n">val</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense average of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense average of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_plc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_plc">[docs]</a>    <span class="k">def</span> <span class="nf">set_plc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">plc</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets power line cycle (PLC) to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        plc: int</span>
<span class="sd">            Power line frequency setting used for NPLC calculations. Possible values are -1 (auto) | 50 | 60.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :SYSTem:LFRequency 50|60</span>
        <span class="c1"># Corresponding Command: :SYSTem:LFRequency:AUTO 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set PLC to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">plc</span><span class="p">))</span>
            <span class="n">cmd</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;:auto 1&#39;</span><span class="p">,</span> <span class="mi">50</span><span class="p">:</span> <span class="s1">&#39; 50&#39;</span><span class="p">,</span> <span class="mi">60</span><span class="p">:</span> <span class="s1">&#39; 60&#39;</span><span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;syst:lfr</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cmd</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">plc</span><span class="p">),</span> <span class="n">cmd</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set PLC to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">plc</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set PLC to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">plc</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_plc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_plc">[docs]</a>    <span class="k">def</span> <span class="nf">get_plc</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets power line cycle (PLC) &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        plc: int</span>
<span class="sd">            Power line frequency setting used for NPLC calculations.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :SYSTem:LFRequency 50|60</span>
        <span class="c1"># Corresponding Command: :SYSTem:LFRequency:AUTO 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get PLC&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;syst:lfr&#39;</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get PLC&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get PLC</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sense_nplc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sense_nplc">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_nplc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sense nplc (number of power line cycle) of channel &lt;channel&gt; with the &lt;val&gt;-fold of one power line cycle.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        val: float</span>
<span class="sd">            Integration aperture for measurements. Must be in [1, 25].</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:NPLC &lt;real number&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sense nplc of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:2.0f}</span><span class="s1"> PLC&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:nplc </span><span class="si">{:2.0f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense nplc of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense nplc of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_nplc"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_nplc">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_nplc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense nplc (number of power line cycle) &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Integration aperture for measurements.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:NPLC &lt;real number&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense nplc of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:nplc&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense nplc of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense nplc of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sense_autozero"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sense_autozero">[docs]</a>    <span class="k">def</span> <span class="nf">set_sense_autozero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets autozero of channel &lt;channel&gt; to &lt;val&gt;. Note that &quot;on&quot; means that the internal zero point is measured for each measurement, wherefore the measurement takes approximately twice as long as when the auto zero function is &quot;off&quot;</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        val: int</span>
<span class="sd">            Status of the internal reference measurements (autozero) of the source-measure unit. Possible values are 0 (off), 1 (on) or 2 (once).</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:ZERo:AUTO 1|0|ON|OFF (at each measurement)</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:ZERo:EXECute (once)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sense autozero of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:zero:exec&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">2.</span><span class="p">)</span>  <span class="c1"># tests yield random value t &gt; 1.65 to be necessary</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_OPC</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_raise_error</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:zero:auto </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense autozero of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sense autozero of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_autozero"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_autozero">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_autozero</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense autozero &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: int</span>
<span class="sd">            Status of the internal reference measurements (autozero) of the source-measure unit. Meanings are 0 (off) and 1 (on).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SENSe:ZERo:AUTO 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense autozero of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sens:zero:auto&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense autozero of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense autozero of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_status"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_status">[docs]</a>    <span class="k">def</span> <span class="nf">set_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets output status of channel &lt;channel&gt; to &lt;status&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        status: int</span>
<span class="sd">            Output status. Possible values are 0 (off) or 1 (on).</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:OUTput:STATus 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set output status of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:outp:stat </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set output status of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">status</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set output status of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_status"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_status">[docs]</a>    <span class="k">def</span> <span class="nf">get_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets output status &lt;status&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        status: int</span>
<span class="sd">            Output status. Meanings are 0 (off) and 1 (on).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:OUTput:STATus 1|0|ON|OFF</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get output status of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:outp:stat&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get output status of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get output status of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_bias_value"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_bias_value">[docs]</a>    <span class="k">def</span> <span class="nf">set_bias_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets bias value of channel &lt;channel&gt; to value &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias value.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:LEVel &lt;voltage&gt;|MINimum|MAXimum</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:CURRent]:LEVel &lt;current&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set bias value of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:lev </span><span class="si">{:g}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>  <span class="c1"># necessary to cast as scientific float! (otherwise only &gt;= 1e-6 possible)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set bias value of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_bias_value"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_bias_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets bias value &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:LEVel &lt;voltage&gt;|MINimum|MAXimum</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:CURRent]:LEVel &lt;current&gt;|MINimum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias value of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:lev&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias value of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias value of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_value"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_value">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sense value of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:MEASure?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense value of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:meas&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense value of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense value of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_voltage"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_voltage">[docs]</a>    <span class="k">def</span> <span class="nf">set_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets voltage value of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias voltage value.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_value</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current bias)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set voltage value of channel </span><span class="si">{!s}</span><span class="s1"> in the current bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">SystemError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set voltage value of channel </span><span class="si">{!s}</span><span class="s1"> in the current bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_voltage"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_voltage">[docs]</a>    <span class="k">def</span> <span class="nf">get_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets voltage value &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense voltage value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_value</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage sense)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sense_value</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get voltage value of channel </span><span class="si">{!s}</span><span class="s1">: neither bias nor sense in voltage mode&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">SystemError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get voltage value of channel </span><span class="si">{!s}</span><span class="s1">: neither bias nor sense in voltage mode&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_current"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_current">[docs]</a>    <span class="k">def</span> <span class="nf">set_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets current value of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Bias current value.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_value</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage bias)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set current value of channel </span><span class="si">{!s}</span><span class="s1"> in the voltage bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">SystemError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set current value of channel </span><span class="si">{!s}</span><span class="s1"> in the voltage bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_current"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_current">[docs]</a>    <span class="k">def</span> <span class="nf">get_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets current value &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Sense current value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_value</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current sense)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sense_value</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get current value of channel </span><span class="si">{!s}</span><span class="s1">: neither bias nor sense in current mode&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">SystemError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get current value of channel </span><span class="si">{!s}</span><span class="s1">: neither bias nor sense in current mode&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_IV"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_IV">[docs]</a>    <span class="k">def</span> <span class="nf">get_IV</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets both current value &lt;I_val&gt; and voltage value &lt;V_val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        I_val: float</span>
<span class="sd">            Sense current value.</span>
<span class="sd">        V_val: float</span>
<span class="sd">            Sense voltage value.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_current</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_voltage</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Yokogawa.ramp_bias"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.ramp_bias">[docs]</a>    <span class="k">def</span> <span class="nf">ramp_bias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ramps bias value of channel &lt;channel&gt; from recent value to stop value &lt;stop&gt; with step size &lt;step&gt; and step time &lt;step_time&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stop: float</span>
<span class="sd">            Stop value</span>
<span class="sd">        step: float</span>
<span class="sd">            Step size.</span>
<span class="sd">        step_time: float</span>
<span class="sd">            Sleep time between staircase ramp.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1. (default)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_value</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">stop</span> <span class="o">&lt;</span> <span class="n">start</span><span class="p">:</span>
            <span class="n">step</span> <span class="o">=</span> <span class="o">-</span><span class="n">step</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">)</span><span class="o">+</span><span class="n">step</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_value</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">()]),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">step_time</span><span class="p">)</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.ramp_voltage"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.ramp_voltage">[docs]</a>    <span class="k">def</span> <span class="nf">ramp_voltage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ramps voltage of channel &lt;channel&gt; from recent value to stop value &lt;stop&gt; with step size &lt;step&gt; and step time &lt;step_time&gt; according to bias_mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stop: float</span>
<span class="sd">            Stop voltage value</span>
<span class="sd">        step: float</span>
<span class="sd">            Step voltage size.</span>
<span class="sd">        step_time: float</span>
<span class="sd">            Sleep time between voltage staircase ramp.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1. (default)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ramp_bias</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="n">step_time</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current bias)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39;: Cannot set voltage value of channel </span><span class="si">{!s}</span><span class="s1">: in the current bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.ramp_current"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.ramp_current">[docs]</a>    <span class="k">def</span> <span class="nf">ramp_current</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Ramps current of channel &lt;channel&gt; from recent value to stop value &lt;stop&gt; with step size &lt;step&gt; and step time &lt;step_time&gt; according to bias_mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        stop: float</span>
<span class="sd">            Stop current value</span>
<span class="sd">        step: float</span>
<span class="sd">            Step current size.</span>
<span class="sd">        step_time: float</span>
<span class="sd">            Sleep time between current staircase ramp.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1. (default)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 0 (current bias)</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">ramp_bias</span><span class="p">(</span><span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">step</span><span class="p">,</span> <span class="n">step_time</span><span class="o">=</span><span class="n">step_time</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>  <span class="c1"># 1 (voltage bias)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39;: Cannot ramp current value of channel </span><span class="si">{!s}</span><span class="s1">: in the voltage bias&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.set_sweep_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sweep_mode">[docs]</a>    <span class="k">def</span> <span class="nf">set_sweep_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">channels</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets an variable to decide weather</span>
<span class="sd">         * voltage is both applied and measured (VV-mode),</span>
<span class="sd">         * current is applied and voltage is measured (IV-mode) or</span>
<span class="sd">         * voltage is applied and current is measured (VI-mode)</span>
<span class="sd">        and channels &lt;channels&gt; that are used during sweeps.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sweep mode denoting bias and sense modes. Possible values are 0 (VV-mode), 1 (IV-mode) or 2 (VI-mode). Default is 1</span>
<span class="sd">        channels: int or tuple(int)</span>
<span class="sd">            Number of channel of usage. Must be 1 or 2 for IV-mode and VI-mode or a tuple containing both channels for VV-mode (1st argument as bias channel and 2nd argument as sense channel).</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_channels</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">1</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,),</span> <span class="mi">2</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,)}</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="ow">not</span> <span class="n">mode</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channels</span><span class="p">))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span> <span class="o">=</span> <span class="n">channels</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">default_channels</span><span class="p">[</span><span class="n">mode</span><span class="p">]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span> <span class="o">=</span> <span class="n">default_channels</span><span class="p">[</span><span class="n">mode</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channels</span><span class="p">))</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep channels to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channels</span><span class="p">))</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep mode to </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="o">=</span> <span class="n">mode</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__set_defaults_docstring</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep mode to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep mode to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">mode</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sweep_mode"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sweep_mode">[docs]</a>    <span class="k">def</span> <span class="nf">get_sweep_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets an internal variable &lt;mode&gt; to decide weather</span>
<span class="sd">         * voltage is both applied and measured (VV-mode),</span>
<span class="sd">         * current is applied and voltage is measured (IV-mode) or</span>
<span class="sd">         * voltage is applied and current is measured (VI-mode).</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">    	None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sweep mode denoting bias and sense modes. Meanings are 0 (VV-mode), 1 (IV-mode) or 2 (VI-mode).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sweep_channels"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sweep_channels">[docs]</a>    <span class="k">def</span> <span class="nf">get_sweep_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets channels &lt;channels&gt; that are used during sweeps. In the IV and VI sweep mode one channel requires for biasing and sensing, whereas two channels are returned in the VV sweep mode (1st as bias and 2nd as sense channel).</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        channels: int or tuple(int)</span>
<span class="sd">            Number of channel of usage. Meanings are 1 or 2 for IV-mode and VI-mode or a tuple containing both channels for VV-mode (1st argument as bias channel and 2nd argument as sense channel).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sweep_bias"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sweep_bias">[docs]</a>    <span class="k">def</span> <span class="nf">get_sweep_bias</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calls get_bias_mode of channel &lt;channel&gt;. This method is needed for qkit.measure.transport.transport.py in case of no virtual tunnel electronic.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Bias mode. Meanings are 0 (current) and 1 (voltage).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>
    
    <span class="k">def</span> <span class="nf">_set_sweep_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sweep start value of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Start value of sweep.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:SWEep:STARt &lt;voltage&gt;|MINiumum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep start of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="c1"># self._write(&#39;:chan{:d}:sour:swe:star {:f}&#39;.format(channel, val))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:</span><span class="si">{:s}</span><span class="s1">:swe:star </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)],</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep start of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep start of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span>
    
    <span class="k">def</span> <span class="nf">_get_sweep_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sweep start value of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Start value of sweep.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:SWEep:STARt &lt;voltage&gt;|MINiumum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sweep start of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="c1"># return float(self._ask(&#39;:chan{:d}:sour:swe:star&#39;.format(channel)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:</span><span class="si">{:s}</span><span class="s1">:swe:star&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)])))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep start of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep start of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">_set_sweep_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sweep stop value of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Stop value of sweep.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:SWEep:STARt &lt;voltage&gt;|MINiumum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep stop of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="c1"># self._write(&#39;:chan{:d}:sour:swe:stop {:f}&#39;.format(channel, val))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:</span><span class="si">{:s}</span><span class="s1">:swe:stop </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)],</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep stop of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep stop of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span>
    
    <span class="k">def</span> <span class="nf">_get_sweep_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sweep stop value of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: float</span>
<span class="sd">            Stop value of sweep.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:SWEep:STARt &lt;voltage&gt;|MINiumum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sweep stop of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="c1"># return float(self._ask(&#39;:chan{:d}:sour:swe:stop&#39;.format(channel)))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:</span><span class="si">{:s}</span><span class="s1">:swe:stop&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)])))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep stop of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep stop of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">_set_sweep_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sweep step value of channel &lt;channel&gt; to &lt;val&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        val: float</span>
<span class="sd">            Step value of sweep.</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:SWEep:STARt &lt;voltage&gt;|MINiumum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep step of channel </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:</span><span class="si">{:s}</span><span class="s1">:swe:step </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)],</span> <span class="n">val</span><span class="p">))</span>
            <span class="c1"># self._write(&#39;:chan{:d}:sour:swe:step {:f}&#39;.format(channel, val))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep step of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep step of channel </span><span class="si">{!s}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span>
    
    <span class="k">def</span> <span class="nf">_get_sweep_step</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sweep step value of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val:</span>
<span class="sd">            Step value of sweep.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce[:VOLTage]:SWEep:STARt &lt;voltage&gt;|MINiumum|MAXimum</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sweep step of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:</span><span class="si">{:s}</span><span class="s1">:swe:step&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="p">)])))</span>
            <span class="c1"># return float(self._ask(&#39;:chan{:d}:sour:swe:step&#39;.format(channel)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep step of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep step of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">_get_sweep_nop</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets sweeps number of points (nop) of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val:</span>
<span class="sd">            Number of points of sweep.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sweep nop of channel </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_stop</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_start</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">))</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_step</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep nop of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sweep nop of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
    
<div class="viewcode-block" id="Yokogawa.set_sweep_parameters"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_sweep_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">set_sweep_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets sweep parameters &lt;sweep&gt; and prepares instrument for the set sweep mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sweep: array_likes of floats</span>
<span class="sd">            Sweep range containing start, stop and step size (e.g. sweep object using qkit.measure.transport.transport.sweep class)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SOURce:MODE FIXed|SWEep|LIST|SINGle</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:SWEep:TRIGger EXTernal|AUXiliary|TIMer1|TIMer2|SENSe</span>
        <span class="c1"># Corresponding Command: :TRACe:POINts &lt;integer&gt;|MINimum|MAXimum</span>
        <span class="c1"># Corresponding Command: :TRACe:CHANnel&lt;n&gt;:DATA:FORMat ASCii|BINary</span>
        <span class="c1"># Corresponding Command: :TRACe:BINary:REPLy BINary|ASCii</span>
        <span class="c1"># Corresponding Command: :TRACe[:STATe] 1|0|ON|OFF</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">:</span>  <span class="c1"># 0 (VV-mode)</span>
            <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_sync</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>  <span class="c1"># 1 (IV-mode) | 2 (VI-mode)</span>
            <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="o">*</span><span class="mi">2</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Set sweep parameters of channel </span><span class="si">{:d}</span><span class="s1"> and </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span><span class="p">,</span> <span class="n">sweep</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_sweep_start</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">sweep</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_sweep_stop</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="n">sweep</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_sweep_step</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">sweep</span><span class="p">[</span><span class="mi">2</span><span class="p">])),</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_trigger</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;sens&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_sense_trigger</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;sour&#39;</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel_sense</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_bias_value</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_start</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">),</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:sour:mode swe&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_bias</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:swe:trig ext&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_bias</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:trac:poin max&#39;</span><span class="p">)</span>  <span class="c1"># alternative: self._write(&#39;:trac:poin {:d}&#39;.format(self._get_sweep_nop(channel=channel_bias)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:trac:chan</span><span class="si">{:d}</span><span class="s1">:data:form asc&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_sense</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:trac:bin:repl asc&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep parameters of channel </span><span class="si">{:d}</span><span class="s1"> and </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span><span class="p">,</span> <span class="n">sweep</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot set sweep parameters of channel </span><span class="si">{:d}</span><span class="s1"> and </span><span class="si">{:d}</span><span class="s1"> to </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span><span class="p">,</span> <span class="n">sweep</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_tracedata"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_tracedata">[docs]</a>    <span class="k">def</span> <span class="nf">get_tracedata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Starts bias sweep with already set parameters and gets trace data of bias &lt;bias_values&gt; and sense &lt;sense_values&gt; in the set sweep mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bias_values: numpy.array(float)</span>
<span class="sd">            Measured bias values.</span>
<span class="sd">        sense_values: numpy.array(float)</span>
<span class="sd">            Measured sense values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: [:CHANnel&lt;n&gt;]:INITiate [DUAL]</span>
        <span class="c1"># Corresponding Command: :STARt</span>
        <span class="c1"># Corresponding Command: :TRACe[:STATe] 1|0|ON|OFF</span>
        <span class="c1"># Corresponding Command: :TRACe:CHANnel&lt;n&gt;:DATA:READ? [TM|DO|DI|SF|SL|MF|ML|LC|HC|CP]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">:</span>  <span class="c1"># 0 (VV-mode)</span>
            <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]:</span>  <span class="c1"># 1 (IV-mode) | 2 (VI-mode)</span>
            <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="o">*</span><span class="mi">2</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Take sweep data of channel </span><span class="si">{:d}</span><span class="s1"> and </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:chan</span><span class="si">{:d}</span><span class="s1">:init&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_bias</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_ready_for_sweep</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:trac:stat 1&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_OPC</span><span class="p">()</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">100e-6</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:star&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_end_of_sweep</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel_bias</span><span class="p">)</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_delay</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel_sense</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_wait_for_end_of_measure</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel_sense</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:trac:stat 0&#39;</span><span class="p">)</span>
            <span class="n">bias_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;trac:chan</span><span class="si">{:d}</span><span class="s1">:data:read? sl&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_bias</span><span class="p">)),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="n">sense_values</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;trac:chan</span><span class="si">{:d}</span><span class="s1">:data:read? ml&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel_bias</span><span class="p">)),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">bias_values</span><span class="p">,</span> <span class="n">sense_values</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot take sweep data of channel </span><span class="si">{!s}</span><span class="s1"> and </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot take sweep data of channel </span><span class="si">{!s}</span><span class="s1"> and </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel_bias</span><span class="p">,</span> <span class="n">channel_sense</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.take_IV"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.take_IV">[docs]</a>    <span class="k">def</span> <span class="nf">take_IV</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Takes IV curve with sweep parameters &lt;sweep&gt; in set sweep mode.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        sweep: array_likes of floats</span>
<span class="sd">            Sweep range containing start, stop and step size (e.g. sweep object using qkit.measure.transport.transport.sweep class)</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        bias_values: numpy.array(float)</span>
<span class="sd">            Measured bias values.</span>
<span class="sd">        sense_values: numpy.array(float)</span>
<span class="sd">            Measured sense values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sweep_parameters</span><span class="p">(</span><span class="n">sweep</span><span class="o">=</span><span class="n">sweep</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_tracedata</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_bias_ccr"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_bias_ccr">[docs]</a>    <span class="k">def</span> <span class="nf">get_bias_ccr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the entire bias condition code register (ccr)</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ccr: list of booleans</span>
<span class="sd">            Condition code register of bias. Entries are</span>
<span class="sd">            0:  CH1 End of Sweep</span>
<span class="sd">            1:  CH1 Ready for Sweep</span>
<span class="sd">            2:  CH1 Low Limiting</span>
<span class="sd">            3:  CH1 High Limiting</span>
<span class="sd">            4:  CH1 Tripped</span>
<span class="sd">            5:  CH1 Emergency (Temperature/Current over)</span>
<span class="sd">            6:  ---</span>
<span class="sd">            7:  ---</span>
<span class="sd">            8:  CH2 End of Sweep</span>
<span class="sd">            9:  CH2 Ready for Sweep</span>
<span class="sd">            10: CH2 Low Limiting</span>
<span class="sd">            11: CH2 High Limiting</span>
<span class="sd">            12: CH2 Tripped</span>
<span class="sd">            13: CH2 Emergency (Temperature/Current over)</span>
<span class="sd">            14: Inter Locking</span>
<span class="sd">            15: Start Sampling Error</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :STATus:SOURce:CONDition?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias ccr&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="n">ccr</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:stat:sour:cond&#39;</span><span class="p">))</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">):</span>
                <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">bool</span><span class="p">((</span><span class="n">ccr</span> <span class="o">&gt;&gt;</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">ans</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias ccr&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias ccr</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.print_bias_ccr"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.print_bias_ccr">[docs]</a>    <span class="k">def</span> <span class="nf">print_bias_ccr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prints the entire bias condition code register (ccr) including explanation.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ccr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_bias_ccr</span><span class="p">()</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;</span><span class="se">\n\t</span><span class="si">{:s}</span><span class="s1">:</span><span class="se">\t</span><span class="si">{!r}</span><span class="se">\t</span><span class="s1">(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ccr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sb</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sb</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bias_ccr</span><span class="p">)</span> <span class="k">if</span> <span class="n">sb</span> <span class="o">!=</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Bias ccr :</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msg</span><span class="p">)))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_sense_ccr"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_sense_ccr">[docs]</a>    <span class="k">def</span> <span class="nf">get_sense_ccr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the entire sense condition code register (ccr)</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ccr: list of booleans</span>
<span class="sd">            Condition code register of sense. Entries are</span>
<span class="sd">                0:  CH1 End of Measure</span>
<span class="sd">                1:  ---</span>
<span class="sd">                2:  CH1 Compare result is Low</span>
<span class="sd">                3:  CH1 Compare result is High</span>
<span class="sd">                4:  ---</span>
<span class="sd">                5:  CH1 Over Range</span>
<span class="sd">                6:  ---</span>
<span class="sd">                7:  ---</span>
<span class="sd">                8:  CH2 End of Measure</span>
<span class="sd">                9:  ---</span>
<span class="sd">                10: CH2 Compare result is Low</span>
<span class="sd">                11: CH2 Compare result is High</span>
<span class="sd">                12: ---</span>
<span class="sd">                13: CH2 Over Range</span>
<span class="sd">                14: End of Trace</span>
<span class="sd">                15: Trigger Sampling Error</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :STATus:SENSe:CONDition?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense ccr&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="n">ccr</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:stat:sens:cond&#39;</span><span class="p">))</span>
            <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">):</span>
                <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">bool</span><span class="p">((</span><span class="n">ccr</span> <span class="o">&gt;&gt;</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">ans</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense ccr&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense ccr</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Yokogawa.print_sense_ccr"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.print_sense_ccr">[docs]</a>    <span class="k">def</span> <span class="nf">print_sense_ccr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prints the entire bias condition code register (ccr) including explanation.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ssr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_sense_ccr</span><span class="p">()</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;</span><span class="se">\n\t</span><span class="si">{:s}</span><span class="s1">:</span><span class="se">\t</span><span class="si">{!r}</span><span class="se">\t</span><span class="s1">(</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sb</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ssr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">sb</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">sb</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sense_ccr</span><span class="p">)</span> <span class="k">if</span> <span class="n">sb</span> <span class="o">!=</span> <span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)]</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sense ccr:</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">msg</span><span class="p">)))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_end_of_sweep"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_end_of_sweep">[docs]</a>    <span class="k">def</span> <span class="nf">get_end_of_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets event of bias condition code register (ccr) entry &quot;End for Sweep&quot; &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: bool</span>
<span class="sd">            End of sweep entry of bias condition code register.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :STATus:SOURce:EVENt?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias ccr event &quot;End of Sweep&quot; of channel </span><span class="si">{:d}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:stat:sour:even&#39;</span><span class="p">))</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">0</span><span class="o">+</span><span class="mi">8</span><span class="o">*</span><span class="p">(</span><span class="n">channel</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias ccr event &quot;End of Sweep&quot; of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias ccr event &quot;End of Sweep&quot; of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_wait_for_end_of_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the event of bias condition code register (ccr) entry &quot;End for Sweep&quot; of channel &lt;channel&gt; occurs.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_end_of_sweep</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">100e-3</span><span class="p">)</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Yokogawa.get_ready_for_sweep"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_ready_for_sweep">[docs]</a>    <span class="k">def</span> <span class="nf">get_ready_for_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets condition of bias condition code register (ccr) entry &quot;Ready for Sweep&quot; &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: bool</span>
<span class="sd">            End of sweep entry of bias condition code register.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :STATus:SOURce:CONDition?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span><span class="si">{!s}</span><span class="s1">: Get bias ccr event &quot;Ready of Sweep&quot; of channel </span><span class="si">{:d}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:stat:sour:cond&#39;</span><span class="p">))</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">8</span><span class="o">*</span><span class="p">(</span><span class="n">channel</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias ccr condition &quot;Ready for Sweep&quot; of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get bias ccr condition &quot;Ready for Sweep&quot; of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_wait_for_ready_for_sweep</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the condition of bias condition code register (ccr) entry &quot;Ready for Sweep&quot; of channel &lt;channel&gt; is fullfilled.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_ready_for_sweep</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">100e-3</span><span class="p">)</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Yokogawa.get_end_of_measure"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_end_of_measure">[docs]</a>    <span class="k">def</span> <span class="nf">get_end_of_measure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets condition of sense condition code register (ccr) entry &quot;End of Measure&quot; &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: bool</span>
<span class="sd">            End of sweep entry of bias condition code register.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :STATus:SENSe:CONDition?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense ccr event &quot;End of Measure&quot; of channel </span><span class="si">{:d}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:stat:sens:cond&#39;</span><span class="p">))</span> <span class="o">&gt;&gt;</span> <span class="p">(</span><span class="mi">0</span><span class="o">+</span><span class="mi">8</span><span class="o">*</span><span class="p">(</span><span class="n">channel</span><span class="o">-</span><span class="mi">1</span><span class="p">)))</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense ccr event &quot;End of Measure&quot; of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense ccr event &quot;End of Measure&quot; of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_wait_for_end_of_measure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the condition of sense condition code register (ccr) entry &quot;End for Measure&quot; of channel &lt;channel&gt; is fullfilled.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_end_of_measure</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">100e-3</span><span class="p">)</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Yokogawa.get_end_of_trace"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_end_of_trace">[docs]</a>    <span class="k">def</span> <span class="nf">get_end_of_trace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets condition of sense condition code register (ccr) entry &quot;End of Trace&quot; &lt;val&gt; of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        val: bool</span>
<span class="sd">            End of sweep entry of bias condition code register.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :STATus:SENSe:CONDition?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span><span class="si">{!s}</span><span class="s1">: Get sense ccr event &quot;End of Trace&quot; of channel </span><span class="si">{:d}</span><span class="s1">&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">((</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;:stat:sens:cond&#39;</span><span class="p">))</span> <span class="o">&gt;&gt;</span> <span class="mi">14</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense ccr event &quot;End of Trace&quot;  of channel </span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get sense ccr event &quot;End of Trace&quot;  of channel </span><span class="si">{!s}</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">channel</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_wait_for_end_of_trace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the condition of sense condition code register (ccr) entry &quot;End for Trace&quot; of channel &lt;channel&gt; is fullfilled.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_end_of_trace</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">100e-3</span><span class="p">)</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Yokogawa.get_OPC"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_OPC">[docs]</a>    <span class="k">def</span> <span class="nf">get_OPC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the condition of standard event register entry &quot;Operation complete&quot; is fulfilled.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: *OPC</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span><span class="si">{!s}</span><span class="s1">: Get ccr event &quot;Operation complete&quot;&#39;&#39;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ask</span><span class="p">(</span><span class="s1">&#39;*OPC&#39;</span><span class="p">)))</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get ccr condition &quot;Operation complete&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get ccr condition &quot;Operation complete&quot;</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_wait_for_OPC</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Waits until the condition of standard event register entry &quot;Operation complete&quot; is fulfilled.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_OPC</span><span class="p">()):</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">1e-3</span><span class="p">)</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Yokogawa.set_defaults"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.set_defaults">[docs]</a>    <span class="k">def</span> <span class="nf">set_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sweep_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets default settings. Actual settings are:</span>
<span class="sd">        default parameters</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        mode: int</span>
<span class="sd">            Sweep mode denoting bias and sense modes. Possible values are 0 (VV-mode), 1 (IV-mode) or 2 (VI-mode). Default is 1</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="c1"># beeper off</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;:syst:beep 0&#39;</span><span class="p">)</span>
        <span class="c1"># distiguish different sweep modes</span>
        <span class="k">if</span> <span class="n">sweep_mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_sweep_mode</span><span class="p">(</span><span class="n">sweep_mode</span><span class="p">)</span>
        <span class="c1"># set values</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">func</span><span class="p">,</span> <span class="n">param</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">func</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span>
        <span class="k">return</span></div>
    
    <span class="k">def</span> <span class="nf">__set_defaults_docstring</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Sets docstring of &quot;set_defaults&quot; method with actual default settings.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        None</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">new</span> <span class="o">=</span> <span class="s1">&#39;sweep mode: </span><span class="si">{:d}</span><span class="s1">:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">    channel: </span><span class="si">{:d}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="se">\t\t</span><span class="si">{:s}</span><span class="s1">: </span><span class="si">{!s}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key_parameter</span><span class="p">,</span> <span class="n">val_parameter</span><span class="p">)</span> <span class="k">for</span> <span class="n">key_parameter</span><span class="p">,</span> <span class="n">val_parameter</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_defaults</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_mode</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">channel</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sweep_channels</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_defaults</span><span class="o">.</span><span class="vm">__func__</span><span class="o">.</span><span class="vm">__doc__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">set_defaults</span><span class="o">.</span><span class="vm">__func__</span><span class="o">.</span><span class="vm">__doc__</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_default_str</span><span class="p">,</span> <span class="n">new</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_default_str</span> <span class="o">=</span> <span class="n">new</span>
        <span class="k">return</span>
    
<div class="viewcode-block" id="Yokogawa.get_all"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_all">[docs]</a>    <span class="k">def</span> <span class="nf">get_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Prints all settings of channel &lt;channel&gt;.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel of interest. Must be 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{:s}</span><span class="s1">: Get all&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;synchronization    = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sync</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;measurement mode   = </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_measurement_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_measurement_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias mode          = </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense mode         = </span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_IV_modes</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias range         = </span><span class="si">{:1.0e}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_range</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense range        = </span><span class="si">{:1.0e}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_range</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias delay         = </span><span class="si">{:1.3e}</span><span class="s1">s&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_delay</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense delay        = </span><span class="si">{:1.3e}</span><span class="s1">s&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_delay</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense average      = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_average</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;plc                = </span><span class="si">{:f}</span><span class="s1">Hz&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_plc</span><span class="p">()))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense nplc         = </span><span class="si">{:f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_nplc</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense autozero     = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_autozero</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;status             = </span><span class="si">{!r}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_status</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_status</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bias value         = </span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_value</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sense value        = </span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_value</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_sense_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sweep start        = </span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_start</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sweep stop         = </span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_stop</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sweep step         = </span><span class="si">{:f}{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_step</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_IV_units</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">get_bias_mode</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)]))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;sweep nop          = </span><span class="si">{:d}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_get_sweep_nop</span><span class="p">(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)))</span>
        <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error              = </span><span class="si">{:d}</span><span class="se">\t</span><span class="si">{:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">err</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">err</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print_bias_ccr</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print_sense_ccr</span><span class="p">()</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.reset"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resets the instrument or a single channel to default conditions.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        channel: int</span>
<span class="sd">            Number of channel to be set. Must be None, 1 or 2. Default is 1.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: *RST</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Reset instrument to factory settings&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;*RST&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot reset instrument to factory settings&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot reset instrument to factory settings</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_error"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_error">[docs]</a>    <span class="k">def</span> <span class="nf">get_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets errors of instrument and removes them from the error queue.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        err: array of str</span>
<span class="sd">            Entries from the error queue</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: :SYSTem:ERRor?</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Get errors of instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="n">err</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:syst:err?&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
            <span class="k">while</span> <span class="n">err</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;&quot;No error&quot;&#39;</span><span class="p">]:</span>
                <span class="n">err</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;:syst:err?&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rstrip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">err</span> <span class="o">=</span> <span class="n">err</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">err</span> <span class="o">=</span> <span class="p">[[</span><span class="nb">int</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">err</span><span class="p">]</span>
            <span class="k">return</span> <span class="n">err</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get errors of instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot get errors of instrument</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span></div>
    
    <span class="k">def</span> <span class="nf">_raise_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets errors of instrument and as the case may be raises a python error.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_error</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">errors</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">is</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># no error</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="vm">__name__</span> <span class="o">+</span> <span class="s1">&#39; raises the following errors:&#39;</span>
            <span class="k">for</span> <span class="n">err</span> <span class="ow">in</span> <span class="n">errors</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="si">{:s}</span><span class="s1"> (</span><span class="si">{:s}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">err_msg</span><span class="p">[</span><span class="n">err</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">err</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    
<div class="viewcode-block" id="Yokogawa.clear_error"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.clear_error">[docs]</a>    <span class="k">def</span> <span class="nf">clear_error</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clears error of instrument.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Corresponding Command: *CLS</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Clears error of instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_write</span><span class="p">(</span><span class="s1">&#39;*CLS&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot clears error of instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot clears error of instrument</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.close"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.close">[docs]</a>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Closes the VISA-instrument to disconnect the instrument.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">		None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Close VISA-instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visainstrument</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot close VISA-instrument&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">))</span>
            <span class="k">raise</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)(</span><span class="s1">&#39;</span><span class="si">{!s}</span><span class="s1">: Cannot close VISA-instrument</span><span class="se">\n</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">e</span><span class="p">))</span>
        <span class="k">return</span></div>
    
<div class="viewcode-block" id="Yokogawa.get_parameters"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get_parameters">[docs]</a>    <span class="k">def</span> <span class="nf">get_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets a parameter list &lt;parlist&gt; of measurement specific setting parameters.</span>
<span class="sd">        Needed for .set-file in &#39;write_additional_files&#39;, if qt parameters are not used.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">		None</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        parlist: dict</span>
<span class="sd">            Parameter names as keys, corresponding channels of interest as values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parlist</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;measurement_mode&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
                   <span class="s1">&#39;sync&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_mode&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_mode&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_range&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_range&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_trigger&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_trigger&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_delay&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_delay&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_average&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;bias_value&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;plc&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="kc">None</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_nplc&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;sense_autozero&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]},</span>
                   <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;channels&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]}}</span>
        <span class="k">return</span> <span class="n">parlist</span></div>
    
<div class="viewcode-block" id="Yokogawa.get"><a class="viewcode-back" href="../../../qkit.drivers.html#qkit.drivers.Yokogawa.Yokogawa.get">[docs]</a>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Gets the current parameter &lt;param&gt; by evaluation &#39;get_&#39;+&lt;param&gt; and corresponding channel if needed</span>
<span class="sd">        In combination with &lt;self.get_parameters&gt; above.</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        param: str</span>
<span class="sd">            Parameter of interest.</span>
<span class="sd">        channels: array_likes</span>
<span class="sd">            Number of channels of interest. Must be in {1, 2} for channel specific parameters or None for channel independant (global) parameters.</span>
<span class="sd">        </span>
<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        parlist: dict</span>
<span class="sd">            Parameter names as keys, values of corresponding channels as values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;channels&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">channels</span> <span class="o">==</span> <span class="p">[</span><span class="kc">None</span><span class="p">]:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;get_</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">param</span><span class="p">))()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;get_</span><span class="si">{!s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">param</span><span class="p">))(</span><span class="n">channel</span><span class="o">=</span><span class="n">channel</span><span class="p">)</span> <span class="k">for</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">channels</span><span class="p">])</span></div></div>
    
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, QKITgroup.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>